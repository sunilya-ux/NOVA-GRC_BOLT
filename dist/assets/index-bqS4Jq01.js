var Up=Object.defineProperty;var Bp=(t,e,r)=>e in t?Up(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var vr=(t,e,r)=>Bp(t,typeof e!="symbol"?e+"":e,r);function td(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function rd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function nd(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var sd={exports:{}},Ri={},id={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ls=Symbol.for("react.element"),zp=Symbol.for("react.portal"),Mp=Symbol.for("react.fragment"),Fp=Symbol.for("react.strict_mode"),Vp=Symbol.for("react.profiler"),Wp=Symbol.for("react.provider"),Hp=Symbol.for("react.context"),qp=Symbol.for("react.forward_ref"),Kp=Symbol.for("react.suspense"),Gp=Symbol.for("react.memo"),Jp=Symbol.for("react.lazy"),ou=Symbol.iterator;function Qp(t){return t===null||typeof t!="object"?null:(t=ou&&t[ou]||t["@@iterator"],typeof t=="function"?t:null)}var od={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ad=Object.assign,ld={};function rn(t,e,r){this.props=t,this.context=e,this.refs=ld,this.updater=r||od}rn.prototype.isReactComponent={};rn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ud(){}ud.prototype=rn.prototype;function Ya(t,e,r){this.props=t,this.context=e,this.refs=ld,this.updater=r||od}var Xa=Ya.prototype=new ud;Xa.constructor=Ya;ad(Xa,rn.prototype);Xa.isPureReactComponent=!0;var au=Array.isArray,cd=Object.prototype.hasOwnProperty,Za={current:null},dd={key:!0,ref:!0,__self:!0,__source:!0};function hd(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)cd.call(e,n)&&!dd.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ls,type:t,key:i,ref:o,props:s,_owner:Za.current}}function Yp(t,e){return{$$typeof:ls,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function el(t){return typeof t=="object"&&t!==null&&t.$$typeof===ls}function Xp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var lu=/\/+/g;function so(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Xp(""+t.key):e.toString(36)}function Vs(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ls:case zp:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+so(o,0):n,au(s)?(r="",t!=null&&(r=t.replace(lu,"$&/")+"/"),Vs(s,e,r,"",function(c){return c})):s!=null&&(el(s)&&(s=Yp(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(lu,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",au(t))for(var a=0;a<t.length;a++){i=t[a];var u=n+so(i,a);o+=Vs(i,e,r,u,s)}else if(u=Qp(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=n+so(i,a++),o+=Vs(i,e,r,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gs(t,e,r){if(t==null)return t;var n=[],s=0;return Vs(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Zp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var we={current:null},Ws={transition:null},em={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:Ws,ReactCurrentOwner:Za};function fd(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:gs,forEach:function(t,e,r){gs(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return gs(t,function(){e++}),e},toArray:function(t){return gs(t,function(e){return e})||[]},only:function(t){if(!el(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Component=rn;$.Fragment=Mp;$.Profiler=Vp;$.PureComponent=Ya;$.StrictMode=Fp;$.Suspense=Kp;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=em;$.act=fd;$.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=ad({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Za.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)cd.call(e,u)&&!dd.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:ls,type:t.type,key:s,ref:i,props:n,_owner:o}};$.createContext=function(t){return t={$$typeof:Hp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Wp,_context:t},t.Consumer=t};$.createElement=hd;$.createFactory=function(t){var e=hd.bind(null,t);return e.type=t,e};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:qp,render:t}};$.isValidElement=el;$.lazy=function(t){return{$$typeof:Jp,_payload:{_status:-1,_result:t},_init:Zp}};$.memo=function(t,e){return{$$typeof:Gp,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=Ws.transition;Ws.transition={};try{t()}finally{Ws.transition=e}};$.unstable_act=fd;$.useCallback=function(t,e){return we.current.useCallback(t,e)};$.useContext=function(t){return we.current.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t){return we.current.useDeferredValue(t)};$.useEffect=function(t,e){return we.current.useEffect(t,e)};$.useId=function(){return we.current.useId()};$.useImperativeHandle=function(t,e,r){return we.current.useImperativeHandle(t,e,r)};$.useInsertionEffect=function(t,e){return we.current.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return we.current.useLayoutEffect(t,e)};$.useMemo=function(t,e){return we.current.useMemo(t,e)};$.useReducer=function(t,e,r){return we.current.useReducer(t,e,r)};$.useRef=function(t){return we.current.useRef(t)};$.useState=function(t){return we.current.useState(t)};$.useSyncExternalStore=function(t,e,r){return we.current.useSyncExternalStore(t,e,r)};$.useTransition=function(){return we.current.useTransition()};$.version="18.3.1";id.exports=$;var S=id.exports;const tl=rd(S),tm=td({__proto__:null,default:tl},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=S,nm=Symbol.for("react.element"),sm=Symbol.for("react.fragment"),im=Object.prototype.hasOwnProperty,om=rm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,am={key:!0,ref:!0,__self:!0,__source:!0};function pd(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)im.call(e,n)&&!am.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:nm,type:t,key:i,ref:o,props:s,_owner:om.current}}Ri.Fragment=sm;Ri.jsx=pd;Ri.jsxs=pd;sd.exports=Ri;var l=sd.exports,Fo={},md={exports:{}},Ie={},gd={exports:{}},vd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,I){var L=O.length;O.push(I);e:for(;0<L;){var X=L-1>>>1,oe=O[X];if(0<s(oe,I))O[X]=I,O[L]=oe,L=X;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var I=O[0],L=O.pop();if(L!==I){O[0]=L;e:for(var X=0,oe=O.length,ps=oe>>>1;X<ps;){var qt=2*(X+1)-1,no=O[qt],Kt=qt+1,ms=O[Kt];if(0>s(no,L))Kt<oe&&0>s(ms,no)?(O[X]=ms,O[Kt]=L,X=Kt):(O[X]=no,O[qt]=L,X=qt);else if(Kt<oe&&0>s(ms,L))O[X]=ms,O[Kt]=L,X=Kt;else break e}}return I}function s(O,I){var L=O.sortIndex-I.sortIndex;return L!==0?L:O.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,f=null,p=3,v=!1,x=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(O){for(var I=r(c);I!==null;){if(I.callback===null)n(c);else if(I.startTime<=O)n(c),I.sortIndex=I.expirationTime,e(u,I);else break;I=r(c)}}function _(O){if(y=!1,m(O),!x)if(r(u)!==null)x=!0,to(b);else{var I=r(c);I!==null&&ro(_,I.startTime-O)}}function b(O,I){x=!1,y&&(y=!1,g(C),C=-1),v=!0;var L=p;try{for(m(I),f=r(u);f!==null&&(!(f.expirationTime>I)||O&&!U());){var X=f.callback;if(typeof X=="function"){f.callback=null,p=f.priorityLevel;var oe=X(f.expirationTime<=I);I=t.unstable_now(),typeof oe=="function"?f.callback=oe:f===r(u)&&n(u),m(I)}else n(u);f=r(u)}if(f!==null)var ps=!0;else{var qt=r(c);qt!==null&&ro(_,qt.startTime-I),ps=!1}return ps}finally{f=null,p=L,v=!1}}var j=!1,E=null,C=-1,D=5,N=-1;function U(){return!(t.unstable_now()-N<D)}function Ve(){if(E!==null){var O=t.unstable_now();N=O;var I=!0;try{I=E(!0,O)}finally{I?vt():(j=!1,E=null)}}else j=!1}var vt;if(typeof d=="function")vt=function(){d(Ve)};else if(typeof MessageChannel<"u"){var iu=new MessageChannel,$p=iu.port2;iu.port1.onmessage=Ve,vt=function(){$p.postMessage(null)}}else vt=function(){w(Ve,0)};function to(O){E=O,j||(j=!0,vt())}function ro(O,I){C=w(function(){O(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,to(b))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(O){switch(p){case 1:case 2:case 3:var I=3;break;default:I=p}var L=p;p=I;try{return O()}finally{p=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,I){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var L=p;p=O;try{return I()}finally{p=L}},t.unstable_scheduleCallback=function(O,I,L){var X=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?X+L:X):L=X,O){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=L+oe,O={id:h++,callback:I,priorityLevel:O,startTime:L,expirationTime:oe,sortIndex:-1},L>X?(O.sortIndex=L,e(c,O),r(u)===null&&O===r(c)&&(y?(g(C),C=-1):y=!0,ro(_,L-X))):(O.sortIndex=oe,e(u,O),x||v||(x=!0,to(b))),O},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(O){var I=p;return function(){var L=p;p=I;try{return O.apply(this,arguments)}finally{p=L}}}})(vd);gd.exports=vd;var lm=gd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um=S,Re=lm;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yd=new Set,Bn={};function fr(t,e){qr(t,e),qr(t+"Capture",e)}function qr(t,e){for(Bn[t]=e,t=0;t<e.length;t++)yd.add(e[t])}var ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vo=Object.prototype.hasOwnProperty,cm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uu={},cu={};function dm(t){return Vo.call(cu,t)?!0:Vo.call(uu,t)?!1:cm.test(t)?cu[t]=!0:(uu[t]=!0,!1)}function hm(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fm(t,e,r,n){if(e===null||typeof e>"u"||hm(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xe(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){de[t]=new xe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];de[e]=new xe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){de[t]=new xe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){de[t]=new xe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){de[t]=new xe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){de[t]=new xe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){de[t]=new xe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){de[t]=new xe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){de[t]=new xe(t,5,!1,t.toLowerCase(),null,!1,!1)});var rl=/[\-:]([a-z])/g;function nl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rl,nl);de[e]=new xe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rl,nl);de[e]=new xe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rl,nl);de[e]=new xe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){de[t]=new xe(t,1,!1,t.toLowerCase(),null,!1,!1)});de.xlinkHref=new xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){de[t]=new xe(t,1,!1,t.toLowerCase(),null,!0,!0)});function sl(t,e,r,n){var s=de.hasOwnProperty(e)?de[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fm(e,r,s,n)&&(r=null),n||s===null?dm(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var gt=um.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vs=Symbol.for("react.element"),Nr=Symbol.for("react.portal"),Cr=Symbol.for("react.fragment"),il=Symbol.for("react.strict_mode"),Wo=Symbol.for("react.profiler"),wd=Symbol.for("react.provider"),xd=Symbol.for("react.context"),ol=Symbol.for("react.forward_ref"),Ho=Symbol.for("react.suspense"),qo=Symbol.for("react.suspense_list"),al=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),_d=Symbol.for("react.offscreen"),du=Symbol.iterator;function fn(t){return t===null||typeof t!="object"?null:(t=du&&t[du]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Object.assign,io;function _n(t){if(io===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);io=e&&e[1]||""}return`
`+io+t}var oo=!1;function ao(t,e){if(!t||oo)return"";oo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{oo=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?_n(t):""}function pm(t){switch(t.tag){case 5:return _n(t.type);case 16:return _n("Lazy");case 13:return _n("Suspense");case 19:return _n("SuspenseList");case 0:case 2:case 15:return t=ao(t.type,!1),t;case 11:return t=ao(t.type.render,!1),t;case 1:return t=ao(t.type,!0),t;default:return""}}function Ko(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cr:return"Fragment";case Nr:return"Portal";case Wo:return"Profiler";case il:return"StrictMode";case Ho:return"Suspense";case qo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xd:return(t.displayName||"Context")+".Consumer";case wd:return(t._context.displayName||"Context")+".Provider";case ol:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case al:return e=t.displayName||null,e!==null?e:Ko(t.type)||"Memo";case _t:e=t._payload,t=t._init;try{return Ko(t(e))}catch{}}return null}function mm(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ko(e);case 8:return e===il?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ut(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gm(t){var e=bd(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ys(t){t._valueTracker||(t._valueTracker=gm(t))}function Sd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=bd(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Go(t,e){var r=e.checked;return Q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function hu(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ut(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jd(t,e){e=e.checked,e!=null&&sl(t,"checked",e,!1)}function Jo(t,e){jd(t,e);var r=Ut(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qo(t,e.type,r):e.hasOwnProperty("defaultValue")&&Qo(t,e.type,Ut(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fu(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Qo(t,e,r){(e!=="number"||ri(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var bn=Array.isArray;function Br(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ut(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Yo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return Q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pu(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(k(92));if(bn(r)){if(1<r.length)throw Error(k(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ut(r)}}function kd(t,e){var r=Ut(e.value),n=Ut(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function mu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ed(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ed(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ws,Nd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ws=ws||document.createElement("div"),ws.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ws.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var En={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vm=["Webkit","ms","Moz","O"];Object.keys(En).forEach(function(t){vm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),En[e]=En[t]})});function Cd(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||En.hasOwnProperty(t)&&En[t]?(""+e).trim():e+"px"}function Pd(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Cd(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var ym=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zo(t,e){if(e){if(ym[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function ea(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ta=null;function ll(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ra=null,zr=null,Mr=null;function gu(t){if(t=ds(t)){if(typeof ra!="function")throw Error(k(280));var e=t.stateNode;e&&(e=$i(e),ra(t.stateNode,t.type,e))}}function Od(t){zr?Mr?Mr.push(t):Mr=[t]:zr=t}function Td(){if(zr){var t=zr,e=Mr;if(Mr=zr=null,gu(t),e)for(t=0;t<e.length;t++)gu(e[t])}}function Rd(t,e){return t(e)}function Ad(){}var lo=!1;function Id(t,e,r){if(lo)return t(e,r);lo=!0;try{return Rd(t,e,r)}finally{lo=!1,(zr!==null||Mr!==null)&&(Ad(),Td())}}function Mn(t,e){var r=t.stateNode;if(r===null)return null;var n=$i(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(k(231,e,typeof r));return r}var na=!1;if(ht)try{var pn={};Object.defineProperty(pn,"passive",{get:function(){na=!0}}),window.addEventListener("test",pn,pn),window.removeEventListener("test",pn,pn)}catch{na=!1}function wm(t,e,r,n,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(h){this.onError(h)}}var Nn=!1,ni=null,si=!1,sa=null,xm={onError:function(t){Nn=!0,ni=t}};function _m(t,e,r,n,s,i,o,a,u){Nn=!1,ni=null,wm.apply(xm,arguments)}function bm(t,e,r,n,s,i,o,a,u){if(_m.apply(this,arguments),Nn){if(Nn){var c=ni;Nn=!1,ni=null}else throw Error(k(198));si||(si=!0,sa=c)}}function pr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Dd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vu(t){if(pr(t)!==t)throw Error(k(188))}function Sm(t){var e=t.alternate;if(!e){if(e=pr(t),e===null)throw Error(k(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return vu(s),t;if(i===n)return vu(s),e;i=i.sibling}throw Error(k(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(k(189))}}if(r.alternate!==n)throw Error(k(190))}if(r.tag!==3)throw Error(k(188));return r.stateNode.current===r?t:e}function Ld(t){return t=Sm(t),t!==null?$d(t):null}function $d(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$d(t);if(e!==null)return e;t=t.sibling}return null}var Ud=Re.unstable_scheduleCallback,yu=Re.unstable_cancelCallback,jm=Re.unstable_shouldYield,km=Re.unstable_requestPaint,Z=Re.unstable_now,Em=Re.unstable_getCurrentPriorityLevel,ul=Re.unstable_ImmediatePriority,Bd=Re.unstable_UserBlockingPriority,ii=Re.unstable_NormalPriority,Nm=Re.unstable_LowPriority,zd=Re.unstable_IdlePriority,Ai=null,st=null;function Cm(t){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(Ai,t,void 0,(t.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:Tm,Pm=Math.log,Om=Math.LN2;function Tm(t){return t>>>=0,t===0?32:31-(Pm(t)/Om|0)|0}var xs=64,_s=4194304;function Sn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function oi(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Sn(a):(i&=o,i!==0&&(n=Sn(i)))}else o=r&~s,o!==0?n=Sn(o):i!==0&&(n=Sn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ye(e),s=1<<r,n|=t[r],e&=~s;return n}function Rm(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Am(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ye(i),a=1<<o,u=s[o];u===-1?(!(a&r)||a&n)&&(s[o]=Rm(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function ia(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Md(){var t=xs;return xs<<=1,!(xs&4194240)&&(xs=64),t}function uo(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function us(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ye(e),t[e]=r}function Im(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Ye(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function cl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ye(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var M=0;function Fd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Vd,dl,Wd,Hd,qd,oa=!1,bs=[],Pt=null,Ot=null,Tt=null,Fn=new Map,Vn=new Map,St=[],Dm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wu(t,e){switch(t){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Fn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vn.delete(e.pointerId)}}function mn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ds(e),e!==null&&dl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Lm(t,e,r,n,s){switch(e){case"focusin":return Pt=mn(Pt,t,e,r,n,s),!0;case"dragenter":return Ot=mn(Ot,t,e,r,n,s),!0;case"mouseover":return Tt=mn(Tt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Fn.set(i,mn(Fn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Vn.set(i,mn(Vn.get(i)||null,t,e,r,n,s)),!0}return!1}function Kd(t){var e=rr(t.target);if(e!==null){var r=pr(e);if(r!==null){if(e=r.tag,e===13){if(e=Dd(r),e!==null){t.blockedOn=e,qd(t.priority,function(){Wd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=aa(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ta=n,r.target.dispatchEvent(n),ta=null}else return e=ds(r),e!==null&&dl(e),t.blockedOn=r,!1;e.shift()}return!0}function xu(t,e,r){Hs(t)&&r.delete(e)}function $m(){oa=!1,Pt!==null&&Hs(Pt)&&(Pt=null),Ot!==null&&Hs(Ot)&&(Ot=null),Tt!==null&&Hs(Tt)&&(Tt=null),Fn.forEach(xu),Vn.forEach(xu)}function gn(t,e){t.blockedOn===e&&(t.blockedOn=null,oa||(oa=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,$m)))}function Wn(t){function e(s){return gn(s,t)}if(0<bs.length){gn(bs[0],t);for(var r=1;r<bs.length;r++){var n=bs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Pt!==null&&gn(Pt,t),Ot!==null&&gn(Ot,t),Tt!==null&&gn(Tt,t),Fn.forEach(e),Vn.forEach(e),r=0;r<St.length;r++)n=St[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<St.length&&(r=St[0],r.blockedOn===null);)Kd(r),r.blockedOn===null&&St.shift()}var Fr=gt.ReactCurrentBatchConfig,ai=!0;function Um(t,e,r,n){var s=M,i=Fr.transition;Fr.transition=null;try{M=1,hl(t,e,r,n)}finally{M=s,Fr.transition=i}}function Bm(t,e,r,n){var s=M,i=Fr.transition;Fr.transition=null;try{M=4,hl(t,e,r,n)}finally{M=s,Fr.transition=i}}function hl(t,e,r,n){if(ai){var s=aa(t,e,r,n);if(s===null)xo(t,e,n,li,r),wu(t,n);else if(Lm(s,t,e,r,n))n.stopPropagation();else if(wu(t,n),e&4&&-1<Dm.indexOf(t)){for(;s!==null;){var i=ds(s);if(i!==null&&Vd(i),i=aa(t,e,r,n),i===null&&xo(t,e,n,li,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else xo(t,e,n,null,r)}}var li=null;function aa(t,e,r,n){if(li=null,t=ll(n),t=rr(t),t!==null)if(e=pr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Dd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return li=t,null}function Gd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Em()){case ul:return 1;case Bd:return 4;case ii:case Nm:return 16;case zd:return 536870912;default:return 16}default:return 16}}var Et=null,fl=null,qs=null;function Jd(){if(qs)return qs;var t,e=fl,r=e.length,n,s="value"in Et?Et.value:Et.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return qs=s.slice(t,1<n?1-n:void 0)}function Ks(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ss(){return!0}function _u(){return!1}function De(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ss:_u,this.isPropagationStopped=_u,this}return Q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),e}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=De(nn),cs=Q({},nn,{view:0,detail:0}),zm=De(cs),co,ho,vn,Ii=Q({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ml,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vn&&(vn&&t.type==="mousemove"?(co=t.screenX-vn.screenX,ho=t.screenY-vn.screenY):ho=co=0,vn=t),co)},movementY:function(t){return"movementY"in t?t.movementY:ho}}),bu=De(Ii),Mm=Q({},Ii,{dataTransfer:0}),Fm=De(Mm),Vm=Q({},cs,{relatedTarget:0}),fo=De(Vm),Wm=Q({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),Hm=De(Wm),qm=Q({},nn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Km=De(qm),Gm=Q({},nn,{data:0}),Su=De(Gm),Jm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ym[t])?!!e[t]:!1}function ml(){return Xm}var Zm=Q({},cs,{key:function(t){if(t.key){var e=Jm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ml,charCode:function(t){return t.type==="keypress"?Ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eg=De(Zm),tg=Q({},Ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ju=De(tg),rg=Q({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ml}),ng=De(rg),sg=Q({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ig=De(sg),og=Q({},Ii,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ag=De(og),lg=[9,13,27,32],gl=ht&&"CompositionEvent"in window,Cn=null;ht&&"documentMode"in document&&(Cn=document.documentMode);var ug=ht&&"TextEvent"in window&&!Cn,Qd=ht&&(!gl||Cn&&8<Cn&&11>=Cn),ku=" ",Eu=!1;function Yd(t,e){switch(t){case"keyup":return lg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pr=!1;function cg(t,e){switch(t){case"compositionend":return Xd(e);case"keypress":return e.which!==32?null:(Eu=!0,ku);case"textInput":return t=e.data,t===ku&&Eu?null:t;default:return null}}function dg(t,e){if(Pr)return t==="compositionend"||!gl&&Yd(t,e)?(t=Jd(),qs=fl=Et=null,Pr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qd&&e.locale!=="ko"?null:e.data;default:return null}}var hg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hg[t.type]:e==="textarea"}function Zd(t,e,r,n){Od(n),e=ui(e,"onChange"),0<e.length&&(r=new pl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Pn=null,Hn=null;function fg(t){ch(t,0)}function Di(t){var e=Rr(t);if(Sd(e))return t}function pg(t,e){if(t==="change")return e}var eh=!1;if(ht){var po;if(ht){var mo="oninput"in document;if(!mo){var Cu=document.createElement("div");Cu.setAttribute("oninput","return;"),mo=typeof Cu.oninput=="function"}po=mo}else po=!1;eh=po&&(!document.documentMode||9<document.documentMode)}function Pu(){Pn&&(Pn.detachEvent("onpropertychange",th),Hn=Pn=null)}function th(t){if(t.propertyName==="value"&&Di(Hn)){var e=[];Zd(e,Hn,t,ll(t)),Id(fg,e)}}function mg(t,e,r){t==="focusin"?(Pu(),Pn=e,Hn=r,Pn.attachEvent("onpropertychange",th)):t==="focusout"&&Pu()}function gg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Di(Hn)}function vg(t,e){if(t==="click")return Di(e)}function yg(t,e){if(t==="input"||t==="change")return Di(e)}function wg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ze=typeof Object.is=="function"?Object.is:wg;function qn(t,e){if(Ze(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Vo.call(e,s)||!Ze(t[s],e[s]))return!1}return!0}function Ou(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tu(t,e){var r=Ou(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ou(r)}}function rh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nh(){for(var t=window,e=ri();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ri(t.document)}return e}function vl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xg(t){var e=nh(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&rh(r.ownerDocument.documentElement,r)){if(n!==null&&vl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Tu(r,i);var o=Tu(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _g=ht&&"documentMode"in document&&11>=document.documentMode,Or=null,la=null,On=null,ua=!1;function Ru(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ua||Or==null||Or!==ri(n)||(n=Or,"selectionStart"in n&&vl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),On&&qn(On,n)||(On=n,n=ui(la,"onSelect"),0<n.length&&(e=new pl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Or)))}function js(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Tr={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionend:js("Transition","TransitionEnd")},go={},sh={};ht&&(sh=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function Li(t){if(go[t])return go[t];if(!Tr[t])return t;var e=Tr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in sh)return go[t]=e[r];return t}var ih=Li("animationend"),oh=Li("animationiteration"),ah=Li("animationstart"),lh=Li("transitionend"),uh=new Map,Au="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zt(t,e){uh.set(t,e),fr(e,[t])}for(var vo=0;vo<Au.length;vo++){var yo=Au[vo],bg=yo.toLowerCase(),Sg=yo[0].toUpperCase()+yo.slice(1);zt(bg,"on"+Sg)}zt(ih,"onAnimationEnd");zt(oh,"onAnimationIteration");zt(ah,"onAnimationStart");zt("dblclick","onDoubleClick");zt("focusin","onFocus");zt("focusout","onBlur");zt(lh,"onTransitionEnd");qr("onMouseEnter",["mouseout","mouseover"]);qr("onMouseLeave",["mouseout","mouseover"]);qr("onPointerEnter",["pointerout","pointerover"]);qr("onPointerLeave",["pointerout","pointerover"]);fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jg=new Set("cancel close invalid load scroll toggle".split(" ").concat(jn));function Iu(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,bm(n,e,void 0,t),t.currentTarget=null}function ch(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Iu(s,a,c),i=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Iu(s,a,c),i=u}}}if(si)throw t=sa,si=!1,sa=null,t}function W(t,e){var r=e[pa];r===void 0&&(r=e[pa]=new Set);var n=t+"__bubble";r.has(n)||(dh(e,t,2,!1),r.add(n))}function wo(t,e,r){var n=0;e&&(n|=4),dh(r,t,n,e)}var ks="_reactListening"+Math.random().toString(36).slice(2);function Kn(t){if(!t[ks]){t[ks]=!0,yd.forEach(function(r){r!=="selectionchange"&&(jg.has(r)||wo(r,!1,t),wo(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ks]||(e[ks]=!0,wo("selectionchange",!1,e))}}function dh(t,e,r,n){switch(Gd(e)){case 1:var s=Um;break;case 4:s=Bm;break;default:s=hl}r=s.bind(null,e,r,t),s=void 0,!na||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function xo(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=rr(a),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Id(function(){var c=i,h=ll(r),f=[];e:{var p=uh.get(t);if(p!==void 0){var v=pl,x=t;switch(t){case"keypress":if(Ks(r)===0)break e;case"keydown":case"keyup":v=eg;break;case"focusin":x="focus",v=fo;break;case"focusout":x="blur",v=fo;break;case"beforeblur":case"afterblur":v=fo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=bu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Fm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=ng;break;case ih:case oh:case ah:v=Hm;break;case lh:v=ig;break;case"scroll":v=zm;break;case"wheel":v=ag;break;case"copy":case"cut":case"paste":v=Km;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ju}var y=(e&4)!==0,w=!y&&t==="scroll",g=y?p!==null?p+"Capture":null:p;y=[];for(var d=c,m;d!==null;){m=d;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,g!==null&&(_=Mn(d,g),_!=null&&y.push(Gn(d,_,m)))),w)break;d=d.return}0<y.length&&(p=new v(p,x,null,r,h),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&r!==ta&&(x=r.relatedTarget||r.fromElement)&&(rr(x)||x[ft]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(x=r.relatedTarget||r.toElement,v=c,x=x?rr(x):null,x!==null&&(w=pr(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=c),v!==x)){if(y=bu,_="onMouseLeave",g="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(y=ju,_="onPointerLeave",g="onPointerEnter",d="pointer"),w=v==null?p:Rr(v),m=x==null?p:Rr(x),p=new y(_,d+"leave",v,r,h),p.target=w,p.relatedTarget=m,_=null,rr(h)===c&&(y=new y(g,d+"enter",x,r,h),y.target=m,y.relatedTarget=w,_=y),w=_,v&&x)t:{for(y=v,g=x,d=0,m=y;m;m=yr(m))d++;for(m=0,_=g;_;_=yr(_))m++;for(;0<d-m;)y=yr(y),d--;for(;0<m-d;)g=yr(g),m--;for(;d--;){if(y===g||g!==null&&y===g.alternate)break t;y=yr(y),g=yr(g)}y=null}else y=null;v!==null&&Du(f,p,v,y,!1),x!==null&&w!==null&&Du(f,w,x,y,!0)}}e:{if(p=c?Rr(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var b=pg;else if(Nu(p))if(eh)b=yg;else{b=gg;var j=mg}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=vg);if(b&&(b=b(t,c))){Zd(f,b,r,h);break e}j&&j(t,p,c),t==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&Qo(p,"number",p.value)}switch(j=c?Rr(c):window,t){case"focusin":(Nu(j)||j.contentEditable==="true")&&(Or=j,la=c,On=null);break;case"focusout":On=la=Or=null;break;case"mousedown":ua=!0;break;case"contextmenu":case"mouseup":case"dragend":ua=!1,Ru(f,r,h);break;case"selectionchange":if(_g)break;case"keydown":case"keyup":Ru(f,r,h)}var E;if(gl)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Pr?Yd(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Qd&&r.locale!=="ko"&&(Pr||C!=="onCompositionStart"?C==="onCompositionEnd"&&Pr&&(E=Jd()):(Et=h,fl="value"in Et?Et.value:Et.textContent,Pr=!0)),j=ui(c,C),0<j.length&&(C=new Su(C,t,null,r,h),f.push({event:C,listeners:j}),E?C.data=E:(E=Xd(r),E!==null&&(C.data=E)))),(E=ug?cg(t,r):dg(t,r))&&(c=ui(c,"onBeforeInput"),0<c.length&&(h=new Su("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:c}),h.data=E))}ch(f,e)})}function Gn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ui(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Mn(t,r),i!=null&&n.unshift(Gn(t,i,s)),i=Mn(t,e),i!=null&&n.push(Gn(t,i,s))),t=t.return}return n}function yr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Du(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,c=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&c!==null&&(a=c,s?(u=Mn(r,i),u!=null&&o.unshift(Gn(r,u,a))):s||(u=Mn(r,i),u!=null&&o.push(Gn(r,u,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var kg=/\r\n?/g,Eg=/\u0000|\uFFFD/g;function Lu(t){return(typeof t=="string"?t:""+t).replace(kg,`
`).replace(Eg,"")}function Es(t,e,r){if(e=Lu(e),Lu(t)!==e&&r)throw Error(k(425))}function ci(){}var ca=null,da=null;function ha(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fa=typeof setTimeout=="function"?setTimeout:void 0,Ng=typeof clearTimeout=="function"?clearTimeout:void 0,$u=typeof Promise=="function"?Promise:void 0,Cg=typeof queueMicrotask=="function"?queueMicrotask:typeof $u<"u"?function(t){return $u.resolve(null).then(t).catch(Pg)}:fa;function Pg(t){setTimeout(function(){throw t})}function _o(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Wn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Wn(e)}function Rt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Uu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var sn=Math.random().toString(36).slice(2),nt="__reactFiber$"+sn,Jn="__reactProps$"+sn,ft="__reactContainer$"+sn,pa="__reactEvents$"+sn,Og="__reactListeners$"+sn,Tg="__reactHandles$"+sn;function rr(t){var e=t[nt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ft]||r[nt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Uu(t);t!==null;){if(r=t[nt])return r;t=Uu(t)}return e}t=r,r=t.parentNode}return null}function ds(t){return t=t[nt]||t[ft],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function $i(t){return t[Jn]||null}var ma=[],Ar=-1;function Mt(t){return{current:t}}function H(t){0>Ar||(t.current=ma[Ar],ma[Ar]=null,Ar--)}function V(t,e){Ar++,ma[Ar]=t.current,t.current=e}var Bt={},me=Mt(Bt),Se=Mt(!1),lr=Bt;function Kr(t,e){var r=t.type.contextTypes;if(!r)return Bt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function je(t){return t=t.childContextTypes,t!=null}function di(){H(Se),H(me)}function Bu(t,e,r){if(me.current!==Bt)throw Error(k(168));V(me,e),V(Se,r)}function hh(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(k(108,mm(t)||"Unknown",s));return Q({},r,n)}function hi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bt,lr=me.current,V(me,t),V(Se,Se.current),!0}function zu(t,e,r){var n=t.stateNode;if(!n)throw Error(k(169));r?(t=hh(t,e,lr),n.__reactInternalMemoizedMergedChildContext=t,H(Se),H(me),V(me,t)):H(Se),V(Se,r)}var lt=null,Ui=!1,bo=!1;function fh(t){lt===null?lt=[t]:lt.push(t)}function Rg(t){Ui=!0,fh(t)}function Ft(){if(!bo&&lt!==null){bo=!0;var t=0,e=M;try{var r=lt;for(M=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}lt=null,Ui=!1}catch(s){throw lt!==null&&(lt=lt.slice(t+1)),Ud(ul,Ft),s}finally{M=e,bo=!1}}return null}var Ir=[],Dr=0,fi=null,pi=0,$e=[],Ue=0,ur=null,ut=1,ct="";function Yt(t,e){Ir[Dr++]=pi,Ir[Dr++]=fi,fi=t,pi=e}function ph(t,e,r){$e[Ue++]=ut,$e[Ue++]=ct,$e[Ue++]=ur,ur=t;var n=ut;t=ct;var s=32-Ye(n)-1;n&=~(1<<s),r+=1;var i=32-Ye(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ut=1<<32-Ye(e)+s|r<<s|n,ct=i+t}else ut=1<<i|r<<s|n,ct=t}function yl(t){t.return!==null&&(Yt(t,1),ph(t,1,0))}function wl(t){for(;t===fi;)fi=Ir[--Dr],Ir[Dr]=null,pi=Ir[--Dr],Ir[Dr]=null;for(;t===ur;)ur=$e[--Ue],$e[Ue]=null,ct=$e[--Ue],$e[Ue]=null,ut=$e[--Ue],$e[Ue]=null}var Te=null,Oe=null,q=!1,Qe=null;function mh(t,e){var r=Be(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Mu(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Te=t,Oe=Rt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Te=t,Oe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ur!==null?{id:ut,overflow:ct}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Be(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Te=t,Oe=null,!0):!1;default:return!1}}function ga(t){return(t.mode&1)!==0&&(t.flags&128)===0}function va(t){if(q){var e=Oe;if(e){var r=e;if(!Mu(t,e)){if(ga(t))throw Error(k(418));e=Rt(r.nextSibling);var n=Te;e&&Mu(t,e)?mh(n,r):(t.flags=t.flags&-4097|2,q=!1,Te=t)}}else{if(ga(t))throw Error(k(418));t.flags=t.flags&-4097|2,q=!1,Te=t}}}function Fu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Te=t}function Ns(t){if(t!==Te)return!1;if(!q)return Fu(t),q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ha(t.type,t.memoizedProps)),e&&(e=Oe)){if(ga(t))throw gh(),Error(k(418));for(;e;)mh(t,e),e=Rt(e.nextSibling)}if(Fu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Oe=Rt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Oe=null}}else Oe=Te?Rt(t.stateNode.nextSibling):null;return!0}function gh(){for(var t=Oe;t;)t=Rt(t.nextSibling)}function Gr(){Oe=Te=null,q=!1}function xl(t){Qe===null?Qe=[t]:Qe.push(t)}var Ag=gt.ReactCurrentBatchConfig;function yn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(k(309));var n=r.stateNode}if(!n)throw Error(k(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(k(284));if(!r._owner)throw Error(k(290,t))}return t}function Cs(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vu(t){var e=t._init;return e(t._payload)}function vh(t){function e(g,d){if(t){var m=g.deletions;m===null?(g.deletions=[d],g.flags|=16):m.push(d)}}function r(g,d){if(!t)return null;for(;d!==null;)e(g,d),d=d.sibling;return null}function n(g,d){for(g=new Map;d!==null;)d.key!==null?g.set(d.key,d):g.set(d.index,d),d=d.sibling;return g}function s(g,d){return g=Lt(g,d),g.index=0,g.sibling=null,g}function i(g,d,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<d?(g.flags|=2,d):m):(g.flags|=2,d)):(g.flags|=1048576,d)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,d,m,_){return d===null||d.tag!==6?(d=Po(m,g.mode,_),d.return=g,d):(d=s(d,m),d.return=g,d)}function u(g,d,m,_){var b=m.type;return b===Cr?h(g,d,m.props.children,_,m.key):d!==null&&(d.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===_t&&Vu(b)===d.type)?(_=s(d,m.props),_.ref=yn(g,d,m),_.return=g,_):(_=ei(m.type,m.key,m.props,null,g.mode,_),_.ref=yn(g,d,m),_.return=g,_)}function c(g,d,m,_){return d===null||d.tag!==4||d.stateNode.containerInfo!==m.containerInfo||d.stateNode.implementation!==m.implementation?(d=Oo(m,g.mode,_),d.return=g,d):(d=s(d,m.children||[]),d.return=g,d)}function h(g,d,m,_,b){return d===null||d.tag!==7?(d=ar(m,g.mode,_,b),d.return=g,d):(d=s(d,m),d.return=g,d)}function f(g,d,m){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Po(""+d,g.mode,m),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case vs:return m=ei(d.type,d.key,d.props,null,g.mode,m),m.ref=yn(g,null,d),m.return=g,m;case Nr:return d=Oo(d,g.mode,m),d.return=g,d;case _t:var _=d._init;return f(g,_(d._payload),m)}if(bn(d)||fn(d))return d=ar(d,g.mode,m,null),d.return=g,d;Cs(g,d)}return null}function p(g,d,m,_){var b=d!==null?d.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return b!==null?null:a(g,d,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case vs:return m.key===b?u(g,d,m,_):null;case Nr:return m.key===b?c(g,d,m,_):null;case _t:return b=m._init,p(g,d,b(m._payload),_)}if(bn(m)||fn(m))return b!==null?null:h(g,d,m,_,null);Cs(g,m)}return null}function v(g,d,m,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(m)||null,a(d,g,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vs:return g=g.get(_.key===null?m:_.key)||null,u(d,g,_,b);case Nr:return g=g.get(_.key===null?m:_.key)||null,c(d,g,_,b);case _t:var j=_._init;return v(g,d,m,j(_._payload),b)}if(bn(_)||fn(_))return g=g.get(m)||null,h(d,g,_,b,null);Cs(d,_)}return null}function x(g,d,m,_){for(var b=null,j=null,E=d,C=d=0,D=null;E!==null&&C<m.length;C++){E.index>C?(D=E,E=null):D=E.sibling;var N=p(g,E,m[C],_);if(N===null){E===null&&(E=D);break}t&&E&&N.alternate===null&&e(g,E),d=i(N,d,C),j===null?b=N:j.sibling=N,j=N,E=D}if(C===m.length)return r(g,E),q&&Yt(g,C),b;if(E===null){for(;C<m.length;C++)E=f(g,m[C],_),E!==null&&(d=i(E,d,C),j===null?b=E:j.sibling=E,j=E);return q&&Yt(g,C),b}for(E=n(g,E);C<m.length;C++)D=v(E,g,C,m[C],_),D!==null&&(t&&D.alternate!==null&&E.delete(D.key===null?C:D.key),d=i(D,d,C),j===null?b=D:j.sibling=D,j=D);return t&&E.forEach(function(U){return e(g,U)}),q&&Yt(g,C),b}function y(g,d,m,_){var b=fn(m);if(typeof b!="function")throw Error(k(150));if(m=b.call(m),m==null)throw Error(k(151));for(var j=b=null,E=d,C=d=0,D=null,N=m.next();E!==null&&!N.done;C++,N=m.next()){E.index>C?(D=E,E=null):D=E.sibling;var U=p(g,E,N.value,_);if(U===null){E===null&&(E=D);break}t&&E&&U.alternate===null&&e(g,E),d=i(U,d,C),j===null?b=U:j.sibling=U,j=U,E=D}if(N.done)return r(g,E),q&&Yt(g,C),b;if(E===null){for(;!N.done;C++,N=m.next())N=f(g,N.value,_),N!==null&&(d=i(N,d,C),j===null?b=N:j.sibling=N,j=N);return q&&Yt(g,C),b}for(E=n(g,E);!N.done;C++,N=m.next())N=v(E,g,C,N.value,_),N!==null&&(t&&N.alternate!==null&&E.delete(N.key===null?C:N.key),d=i(N,d,C),j===null?b=N:j.sibling=N,j=N);return t&&E.forEach(function(Ve){return e(g,Ve)}),q&&Yt(g,C),b}function w(g,d,m,_){if(typeof m=="object"&&m!==null&&m.type===Cr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case vs:e:{for(var b=m.key,j=d;j!==null;){if(j.key===b){if(b=m.type,b===Cr){if(j.tag===7){r(g,j.sibling),d=s(j,m.props.children),d.return=g,g=d;break e}}else if(j.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===_t&&Vu(b)===j.type){r(g,j.sibling),d=s(j,m.props),d.ref=yn(g,j,m),d.return=g,g=d;break e}r(g,j);break}else e(g,j);j=j.sibling}m.type===Cr?(d=ar(m.props.children,g.mode,_,m.key),d.return=g,g=d):(_=ei(m.type,m.key,m.props,null,g.mode,_),_.ref=yn(g,d,m),_.return=g,g=_)}return o(g);case Nr:e:{for(j=m.key;d!==null;){if(d.key===j)if(d.tag===4&&d.stateNode.containerInfo===m.containerInfo&&d.stateNode.implementation===m.implementation){r(g,d.sibling),d=s(d,m.children||[]),d.return=g,g=d;break e}else{r(g,d);break}else e(g,d);d=d.sibling}d=Oo(m,g.mode,_),d.return=g,g=d}return o(g);case _t:return j=m._init,w(g,d,j(m._payload),_)}if(bn(m))return x(g,d,m,_);if(fn(m))return y(g,d,m,_);Cs(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,d!==null&&d.tag===6?(r(g,d.sibling),d=s(d,m),d.return=g,g=d):(r(g,d),d=Po(m,g.mode,_),d.return=g,g=d),o(g)):r(g,d)}return w}var Jr=vh(!0),yh=vh(!1),mi=Mt(null),gi=null,Lr=null,_l=null;function bl(){_l=Lr=gi=null}function Sl(t){var e=mi.current;H(mi),t._currentValue=e}function ya(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Vr(t,e){gi=t,_l=Lr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(be=!0),t.firstContext=null)}function Me(t){var e=t._currentValue;if(_l!==t)if(t={context:t,memoizedValue:e,next:null},Lr===null){if(gi===null)throw Error(k(308));Lr=t,gi.dependencies={lanes:0,firstContext:t}}else Lr=Lr.next=t;return e}var nr=null;function jl(t){nr===null?nr=[t]:nr.push(t)}function wh(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,jl(e)):(r.next=s.next,s.next=r),e.interleaved=r,pt(t,n)}function pt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var bt=!1;function kl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function At(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,z&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,pt(t,r)}return s=n.interleaved,s===null?(e.next=e,jl(n)):(e.next=s.next,s.next=e),n.interleaved=e,pt(t,r)}function Gs(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,cl(t,r)}}function Wu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function vi(t,e,r,n){var s=t.updateQueue;bt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,h=c=u=null,a=i;do{var p=a.lane,v=a.eventTime;if((n&p)===p){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,y=a;switch(p=e,v=r,y.tag){case 1:if(x=y.payload,typeof x=="function"){f=x.call(v,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,p=typeof x=="function"?x.call(v,f,p):x,p==null)break e;f=Q({},f,p);break e;case 2:bt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=v,u=f):h=h.next=v,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);dr|=o,t.lanes=o,t.memoizedState=f}}function Hu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(k(191,s));s.call(n)}}}var hs={},it=Mt(hs),Qn=Mt(hs),Yn=Mt(hs);function sr(t){if(t===hs)throw Error(k(174));return t}function El(t,e){switch(V(Yn,e),V(Qn,t),V(it,hs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xo(e,t)}H(it),V(it,e)}function Qr(){H(it),H(Qn),H(Yn)}function _h(t){sr(Yn.current);var e=sr(it.current),r=Xo(e,t.type);e!==r&&(V(Qn,t),V(it,r))}function Nl(t){Qn.current===t&&(H(it),H(Qn))}var G=Mt(0);function yi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var So=[];function Cl(){for(var t=0;t<So.length;t++)So[t]._workInProgressVersionPrimary=null;So.length=0}var Js=gt.ReactCurrentDispatcher,jo=gt.ReactCurrentBatchConfig,cr=0,J=null,se=null,ae=null,wi=!1,Tn=!1,Xn=0,Ig=0;function he(){throw Error(k(321))}function Pl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ze(t[r],e[r]))return!1;return!0}function Ol(t,e,r,n,s,i){if(cr=i,J=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Js.current=t===null||t.memoizedState===null?Ug:Bg,t=r(n,s),Tn){i=0;do{if(Tn=!1,Xn=0,25<=i)throw Error(k(301));i+=1,ae=se=null,e.updateQueue=null,Js.current=zg,t=r(n,s)}while(Tn)}if(Js.current=xi,e=se!==null&&se.next!==null,cr=0,ae=se=J=null,wi=!1,e)throw Error(k(300));return t}function Tl(){var t=Xn!==0;return Xn=0,t}function rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ae===null?J.memoizedState=ae=t:ae=ae.next=t,ae}function Fe(){if(se===null){var t=J.alternate;t=t!==null?t.memoizedState:null}else t=se.next;var e=ae===null?J.memoizedState:ae.next;if(e!==null)ae=e,se=t;else{if(t===null)throw Error(k(310));se=t,t={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},ae===null?J.memoizedState=ae=t:ae=ae.next=t}return ae}function Zn(t,e){return typeof e=="function"?e(t):e}function ko(t){var e=Fe(),r=e.queue;if(r===null)throw Error(k(311));r.lastRenderedReducer=t;var n=se,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,u=null,c=i;do{var h=c.lane;if((cr&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=n):u=u.next=f,J.lanes|=h,dr|=h}c=c.next}while(c!==null&&c!==i);u===null?o=n:u.next=a,Ze(n,e.memoizedState)||(be=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,J.lanes|=i,dr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Eo(t){var e=Fe(),r=e.queue;if(r===null)throw Error(k(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ze(i,e.memoizedState)||(be=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function bh(){}function Sh(t,e){var r=J,n=Fe(),s=e(),i=!Ze(n.memoizedState,s);if(i&&(n.memoizedState=s,be=!0),n=n.queue,Rl(Eh.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ae!==null&&ae.memoizedState.tag&1){if(r.flags|=2048,es(9,kh.bind(null,r,n,s,e),void 0,null),le===null)throw Error(k(349));cr&30||jh(r,e,s)}return s}function jh(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=J.updateQueue,e===null?(e={lastEffect:null,stores:null},J.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function kh(t,e,r,n){e.value=r,e.getSnapshot=n,Nh(e)&&Ch(t)}function Eh(t,e,r){return r(function(){Nh(e)&&Ch(t)})}function Nh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ze(t,r)}catch{return!0}}function Ch(t){var e=pt(t,1);e!==null&&Xe(e,t,1,-1)}function qu(t){var e=rt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:t},e.queue=t,t=t.dispatch=$g.bind(null,J,t),[e.memoizedState,t]}function es(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=J.updateQueue,e===null?(e={lastEffect:null,stores:null},J.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Ph(){return Fe().memoizedState}function Qs(t,e,r,n){var s=rt();J.flags|=t,s.memoizedState=es(1|e,r,void 0,n===void 0?null:n)}function Bi(t,e,r,n){var s=Fe();n=n===void 0?null:n;var i=void 0;if(se!==null){var o=se.memoizedState;if(i=o.destroy,n!==null&&Pl(n,o.deps)){s.memoizedState=es(e,r,i,n);return}}J.flags|=t,s.memoizedState=es(1|e,r,i,n)}function Ku(t,e){return Qs(8390656,8,t,e)}function Rl(t,e){return Bi(2048,8,t,e)}function Oh(t,e){return Bi(4,2,t,e)}function Th(t,e){return Bi(4,4,t,e)}function Rh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ah(t,e,r){return r=r!=null?r.concat([t]):null,Bi(4,4,Rh.bind(null,e,t),r)}function Al(){}function Ih(t,e){var r=Fe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Pl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Dh(t,e){var r=Fe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Pl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Lh(t,e,r){return cr&21?(Ze(r,e)||(r=Md(),J.lanes|=r,dr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,be=!0),t.memoizedState=r)}function Dg(t,e){var r=M;M=r!==0&&4>r?r:4,t(!0);var n=jo.transition;jo.transition={};try{t(!1),e()}finally{M=r,jo.transition=n}}function $h(){return Fe().memoizedState}function Lg(t,e,r){var n=Dt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Uh(t))Bh(e,r);else if(r=wh(t,e,r,n),r!==null){var s=ye();Xe(r,t,n,s),zh(r,e,n)}}function $g(t,e,r){var n=Dt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Uh(t))Bh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Ze(a,o)){var u=e.interleaved;u===null?(s.next=s,jl(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}r=wh(t,e,s,n),r!==null&&(s=ye(),Xe(r,t,n,s),zh(r,e,n))}}function Uh(t){var e=t.alternate;return t===J||e!==null&&e===J}function Bh(t,e){Tn=wi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function zh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,cl(t,r)}}var xi={readContext:Me,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},Ug={readContext:Me,useCallback:function(t,e){return rt().memoizedState=[t,e===void 0?null:e],t},useContext:Me,useEffect:Ku,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Qs(4194308,4,Rh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Qs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qs(4,2,t,e)},useMemo:function(t,e){var r=rt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=rt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Lg.bind(null,J,t),[n.memoizedState,t]},useRef:function(t){var e=rt();return t={current:t},e.memoizedState=t},useState:qu,useDebugValue:Al,useDeferredValue:function(t){return rt().memoizedState=t},useTransition:function(){var t=qu(!1),e=t[0];return t=Dg.bind(null,t[1]),rt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=J,s=rt();if(q){if(r===void 0)throw Error(k(407));r=r()}else{if(r=e(),le===null)throw Error(k(349));cr&30||jh(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Ku(Eh.bind(null,n,i,t),[t]),n.flags|=2048,es(9,kh.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=rt(),e=le.identifierPrefix;if(q){var r=ct,n=ut;r=(n&~(1<<32-Ye(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Xn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Ig++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Bg={readContext:Me,useCallback:Ih,useContext:Me,useEffect:Rl,useImperativeHandle:Ah,useInsertionEffect:Oh,useLayoutEffect:Th,useMemo:Dh,useReducer:ko,useRef:Ph,useState:function(){return ko(Zn)},useDebugValue:Al,useDeferredValue:function(t){var e=Fe();return Lh(e,se.memoizedState,t)},useTransition:function(){var t=ko(Zn)[0],e=Fe().memoizedState;return[t,e]},useMutableSource:bh,useSyncExternalStore:Sh,useId:$h,unstable_isNewReconciler:!1},zg={readContext:Me,useCallback:Ih,useContext:Me,useEffect:Rl,useImperativeHandle:Ah,useInsertionEffect:Oh,useLayoutEffect:Th,useMemo:Dh,useReducer:Eo,useRef:Ph,useState:function(){return Eo(Zn)},useDebugValue:Al,useDeferredValue:function(t){var e=Fe();return se===null?e.memoizedState=t:Lh(e,se.memoizedState,t)},useTransition:function(){var t=Eo(Zn)[0],e=Fe().memoizedState;return[t,e]},useMutableSource:bh,useSyncExternalStore:Sh,useId:$h,unstable_isNewReconciler:!1};function qe(t,e){if(t&&t.defaultProps){e=Q({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function wa(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Q({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var zi={isMounted:function(t){return(t=t._reactInternals)?pr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ye(),s=Dt(t),i=dt(n,s);i.payload=e,r!=null&&(i.callback=r),e=At(t,i,s),e!==null&&(Xe(e,t,s,n),Gs(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ye(),s=Dt(t),i=dt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=At(t,i,s),e!==null&&(Xe(e,t,s,n),Gs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ye(),n=Dt(t),s=dt(r,n);s.tag=2,e!=null&&(s.callback=e),e=At(t,s,n),e!==null&&(Xe(e,t,n,r),Gs(e,t,n))}};function Gu(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!qn(r,n)||!qn(s,i):!0}function Mh(t,e,r){var n=!1,s=Bt,i=e.contextType;return typeof i=="object"&&i!==null?i=Me(i):(s=je(e)?lr:me.current,n=e.contextTypes,i=(n=n!=null)?Kr(t,s):Bt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ju(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&zi.enqueueReplaceState(e,e.state,null)}function xa(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},kl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Me(i):(i=je(e)?lr:me.current,s.context=Kr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(wa(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&zi.enqueueReplaceState(s,s.state,null),vi(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Yr(t,e){try{var r="",n=e;do r+=pm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function No(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function _a(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Mg=typeof WeakMap=="function"?WeakMap:Map;function Fh(t,e,r){r=dt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){bi||(bi=!0,Ta=n),_a(t,e)},r}function Vh(t,e,r){r=dt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){_a(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){_a(t,e),typeof n!="function"&&(It===null?It=new Set([this]):It.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Qu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Mg;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=t0.bind(null,t,e,r),e.then(t,t))}function Yu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Xu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=dt(-1,1),e.tag=2,At(r,e,1))),r.lanes|=1),t)}var Fg=gt.ReactCurrentOwner,be=!1;function ge(t,e,r,n){e.child=t===null?yh(e,null,r,n):Jr(e,t.child,r,n)}function Zu(t,e,r,n,s){r=r.render;var i=e.ref;return Vr(e,s),n=Ol(t,e,r,n,i,s),r=Tl(),t!==null&&!be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,mt(t,e,s)):(q&&r&&yl(e),e.flags|=1,ge(t,e,n,s),e.child)}function ec(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Ml(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Wh(t,e,i,n,s)):(t=ei(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:qn,r(o,n)&&t.ref===e.ref)return mt(t,e,s)}return e.flags|=1,t=Lt(i,n),t.ref=e.ref,t.return=e,e.child=t}function Wh(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(qn(i,n)&&t.ref===e.ref)if(be=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(be=!0);else return e.lanes=t.lanes,mt(t,e,s)}return ba(t,e,r,n,s)}function Hh(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(Ur,Ne),Ne|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,V(Ur,Ne),Ne|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,V(Ur,Ne),Ne|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,V(Ur,Ne),Ne|=n;return ge(t,e,s,r),e.child}function qh(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ba(t,e,r,n,s){var i=je(r)?lr:me.current;return i=Kr(e,i),Vr(e,s),r=Ol(t,e,r,n,i,s),n=Tl(),t!==null&&!be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,mt(t,e,s)):(q&&n&&yl(e),e.flags|=1,ge(t,e,r,s),e.child)}function tc(t,e,r,n,s){if(je(r)){var i=!0;hi(e)}else i=!1;if(Vr(e,s),e.stateNode===null)Ys(t,e),Mh(e,r,n),xa(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Me(c):(c=je(r)?lr:me.current,c=Kr(e,c));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==c)&&Ju(e,o,n,c),bt=!1;var p=e.memoizedState;o.state=p,vi(e,n,o,s),u=e.memoizedState,a!==n||p!==u||Se.current||bt?(typeof h=="function"&&(wa(e,r,h,n),u=e.memoizedState),(a=bt||Gu(e,r,a,n,p,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,xh(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:qe(e.type,a),o.props=c,f=e.pendingProps,p=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Me(u):(u=je(r)?lr:me.current,u=Kr(e,u));var v=r.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==u)&&Ju(e,o,n,u),bt=!1,p=e.memoizedState,o.state=p,vi(e,n,o,s);var x=e.memoizedState;a!==f||p!==x||Se.current||bt?(typeof v=="function"&&(wa(e,r,v,n),x=e.memoizedState),(c=bt||Gu(e,r,c,n,p,x,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),o.props=n,o.state=x,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return Sa(t,e,r,n,i,s)}function Sa(t,e,r,n,s,i){qh(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&zu(e,r,!1),mt(t,e,i);n=e.stateNode,Fg.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Jr(e,t.child,null,i),e.child=Jr(e,null,a,i)):ge(t,e,a,i),e.memoizedState=n.state,s&&zu(e,r,!0),e.child}function Kh(t){var e=t.stateNode;e.pendingContext?Bu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Bu(t,e.context,!1),El(t,e.containerInfo)}function rc(t,e,r,n,s){return Gr(),xl(s),e.flags|=256,ge(t,e,r,n),e.child}var ja={dehydrated:null,treeContext:null,retryLane:0};function ka(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gh(t,e,r){var n=e.pendingProps,s=G.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),V(G,s&1),t===null)return va(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vi(o,n,0,null),t=ar(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ka(r),e.memoizedState=ja,t):Il(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Vg(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Lt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Lt(a,i):(i=ar(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?ka(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=ja,n}return i=t.child,t=i.sibling,n=Lt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Il(t,e){return e=Vi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ps(t,e,r,n){return n!==null&&xl(n),Jr(e,t.child,null,r),t=Il(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Vg(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=No(Error(k(422))),Ps(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Vi({mode:"visible",children:n.children},s,0,null),i=ar(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Jr(e,t.child,null,o),e.child.memoizedState=ka(o),e.memoizedState=ja,i);if(!(e.mode&1))return Ps(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(k(419)),n=No(i,n,void 0),Ps(t,e,o,n)}if(a=(o&t.childLanes)!==0,be||a){if(n=le,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,pt(t,s),Xe(n,t,s,-1))}return zl(),n=No(Error(k(421))),Ps(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=r0.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Oe=Rt(s.nextSibling),Te=e,q=!0,Qe=null,t!==null&&($e[Ue++]=ut,$e[Ue++]=ct,$e[Ue++]=ur,ut=t.id,ct=t.overflow,ur=e),e=Il(e,n.children),e.flags|=4096,e)}function nc(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ya(t.return,e,r)}function Co(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Jh(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(ge(t,e,n.children,r),n=G.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nc(t,r,e);else if(t.tag===19)nc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(V(G,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&yi(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Co(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&yi(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Co(e,!0,r,null,i);break;case"together":Co(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ys(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),dr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,r=Lt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Lt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Wg(t,e,r){switch(e.tag){case 3:Kh(e),Gr();break;case 5:_h(e);break;case 1:je(e.type)&&hi(e);break;case 4:El(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;V(mi,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(V(G,G.current&1),e.flags|=128,null):r&e.child.childLanes?Gh(t,e,r):(V(G,G.current&1),t=mt(t,e,r),t!==null?t.sibling:null);V(G,G.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Jh(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(G,G.current),n)break;return null;case 22:case 23:return e.lanes=0,Hh(t,e,r)}return mt(t,e,r)}var Qh,Ea,Yh,Xh;Qh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ea=function(){};Yh=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,sr(it.current);var i=null;switch(r){case"input":s=Go(t,s),n=Go(t,n),i=[];break;case"select":s=Q({},s,{value:void 0}),n=Q({},n,{value:void 0}),i=[];break;case"textarea":s=Yo(t,s),n=Yo(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ci)}Zo(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&W("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Xh=function(t,e,r,n){r!==n&&(e.flags|=4)};function wn(t,e){if(!q)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function fe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Hg(t,e,r){var n=e.pendingProps;switch(wl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(e),null;case 1:return je(e.type)&&di(),fe(e),null;case 3:return n=e.stateNode,Qr(),H(Se),H(me),Cl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ns(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qe!==null&&(Ia(Qe),Qe=null))),Ea(t,e),fe(e),null;case 5:Nl(e);var s=sr(Yn.current);if(r=e.type,t!==null&&e.stateNode!=null)Yh(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(k(166));return fe(e),null}if(t=sr(it.current),Ns(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[nt]=e,n[Jn]=i,t=(e.mode&1)!==0,r){case"dialog":W("cancel",n),W("close",n);break;case"iframe":case"object":case"embed":W("load",n);break;case"video":case"audio":for(s=0;s<jn.length;s++)W(jn[s],n);break;case"source":W("error",n);break;case"img":case"image":case"link":W("error",n),W("load",n);break;case"details":W("toggle",n);break;case"input":hu(n,i),W("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},W("invalid",n);break;case"textarea":pu(n,i),W("invalid",n)}Zo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Es(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Es(n.textContent,a,t),s=["children",""+a]):Bn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&W("scroll",n)}switch(r){case"input":ys(n),fu(n,i,!0);break;case"textarea":ys(n),mu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ci)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ed(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[nt]=e,t[Jn]=n,Qh(t,e,!1,!1),e.stateNode=t;e:{switch(o=ea(r,n),r){case"dialog":W("cancel",t),W("close",t),s=n;break;case"iframe":case"object":case"embed":W("load",t),s=n;break;case"video":case"audio":for(s=0;s<jn.length;s++)W(jn[s],t);s=n;break;case"source":W("error",t),s=n;break;case"img":case"image":case"link":W("error",t),W("load",t),s=n;break;case"details":W("toggle",t),s=n;break;case"input":hu(t,n),s=Go(t,n),W("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Q({},n,{value:void 0}),W("invalid",t);break;case"textarea":pu(t,n),s=Yo(t,n),W("invalid",t);break;default:s=n}Zo(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?Pd(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Nd(t,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&zn(t,u):typeof u=="number"&&zn(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bn.hasOwnProperty(i)?u!=null&&i==="onScroll"&&W("scroll",t):u!=null&&sl(t,i,u,o))}switch(r){case"input":ys(t),fu(t,n,!1);break;case"textarea":ys(t),mu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ut(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Br(t,!!n.multiple,i,!1):n.defaultValue!=null&&Br(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ci)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fe(e),null;case 6:if(t&&e.stateNode!=null)Xh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(k(166));if(r=sr(Yn.current),sr(it.current),Ns(e)){if(n=e.stateNode,r=e.memoizedProps,n[nt]=e,(i=n.nodeValue!==r)&&(t=Te,t!==null))switch(t.tag){case 3:Es(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Es(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nt]=e,e.stateNode=n}return fe(e),null;case 13:if(H(G),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(q&&Oe!==null&&e.mode&1&&!(e.flags&128))gh(),Gr(),e.flags|=98560,i=!1;else if(i=Ns(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(k(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[nt]=e}else Gr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fe(e),i=!1}else Qe!==null&&(Ia(Qe),Qe=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||G.current&1?ie===0&&(ie=3):zl())),e.updateQueue!==null&&(e.flags|=4),fe(e),null);case 4:return Qr(),Ea(t,e),t===null&&Kn(e.stateNode.containerInfo),fe(e),null;case 10:return Sl(e.type._context),fe(e),null;case 17:return je(e.type)&&di(),fe(e),null;case 19:if(H(G),i=e.memoizedState,i===null)return fe(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)wn(i,!1);else{if(ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yi(t),o!==null){for(e.flags|=128,wn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return V(G,G.current&1|2),e.child}t=t.sibling}i.tail!==null&&Z()>Xr&&(e.flags|=128,n=!0,wn(i,!1),e.lanes=4194304)}else{if(!n)if(t=yi(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),wn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!q)return fe(e),null}else 2*Z()-i.renderingStartTime>Xr&&r!==1073741824&&(e.flags|=128,n=!0,wn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Z(),e.sibling=null,r=G.current,V(G,n?r&1|2:r&1),e):(fe(e),null);case 22:case 23:return Bl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ne&1073741824&&(fe(e),e.subtreeFlags&6&&(e.flags|=8192)):fe(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function qg(t,e){switch(wl(e),e.tag){case 1:return je(e.type)&&di(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qr(),H(Se),H(me),Cl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Nl(e),null;case 13:if(H(G),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));Gr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return H(G),null;case 4:return Qr(),null;case 10:return Sl(e.type._context),null;case 22:case 23:return Bl(),null;case 24:return null;default:return null}}var Os=!1,pe=!1,Kg=typeof WeakSet=="function"?WeakSet:Set,P=null;function $r(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Y(t,e,n)}else r.current=null}function Na(t,e,r){try{r()}catch(n){Y(t,e,n)}}var sc=!1;function Gg(t,e){if(ca=ai,t=nh(),vl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var v;f!==r||s!==0&&f.nodeType!==3||(a=o+s),f!==i||n!==0&&f.nodeType!==3||(u=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)p=f,f=v;for(;;){if(f===t)break t;if(p===r&&++c===s&&(a=o),p===i&&++h===n&&(u=o),(v=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=v}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(da={focusedElem:t,selectionRange:r},ai=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,w=x.memoizedState,g=e.stateNode,d=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:qe(e.type,y),w);g.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(_){Y(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return x=sc,sc=!1,x}function Rn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Na(e,r,i)}s=s.next}while(s!==n)}}function Mi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ca(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Zh(t){var e=t.alternate;e!==null&&(t.alternate=null,Zh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nt],delete e[Jn],delete e[pa],delete e[Og],delete e[Tg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ef(t){return t.tag===5||t.tag===3||t.tag===4}function ic(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ef(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pa(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ci));else if(n!==4&&(t=t.child,t!==null))for(Pa(t,e,r),t=t.sibling;t!==null;)Pa(t,e,r),t=t.sibling}function Oa(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Oa(t,e,r),t=t.sibling;t!==null;)Oa(t,e,r),t=t.sibling}var ue=null,Ge=!1;function yt(t,e,r){for(r=r.child;r!==null;)tf(t,e,r),r=r.sibling}function tf(t,e,r){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(Ai,r)}catch{}switch(r.tag){case 5:pe||$r(r,e);case 6:var n=ue,s=Ge;ue=null,yt(t,e,r),ue=n,Ge=s,ue!==null&&(Ge?(t=ue,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ue.removeChild(r.stateNode));break;case 18:ue!==null&&(Ge?(t=ue,r=r.stateNode,t.nodeType===8?_o(t.parentNode,r):t.nodeType===1&&_o(t,r),Wn(t)):_o(ue,r.stateNode));break;case 4:n=ue,s=Ge,ue=r.stateNode.containerInfo,Ge=!0,yt(t,e,r),ue=n,Ge=s;break;case 0:case 11:case 14:case 15:if(!pe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Na(r,e,o),s=s.next}while(s!==n)}yt(t,e,r);break;case 1:if(!pe&&($r(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Y(r,e,a)}yt(t,e,r);break;case 21:yt(t,e,r);break;case 22:r.mode&1?(pe=(n=pe)||r.memoizedState!==null,yt(t,e,r),pe=n):yt(t,e,r);break;default:yt(t,e,r)}}function oc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Kg),e.forEach(function(n){var s=n0.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function We(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ue=a.stateNode,Ge=!1;break e;case 3:ue=a.stateNode.containerInfo,Ge=!0;break e;case 4:ue=a.stateNode.containerInfo,Ge=!0;break e}a=a.return}if(ue===null)throw Error(k(160));tf(i,o,s),ue=null,Ge=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Y(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rf(e,t),e=e.sibling}function rf(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(We(e,t),et(t),n&4){try{Rn(3,t,t.return),Mi(3,t)}catch(y){Y(t,t.return,y)}try{Rn(5,t,t.return)}catch(y){Y(t,t.return,y)}}break;case 1:We(e,t),et(t),n&512&&r!==null&&$r(r,r.return);break;case 5:if(We(e,t),et(t),n&512&&r!==null&&$r(r,r.return),t.flags&32){var s=t.stateNode;try{zn(s,"")}catch(y){Y(t,t.return,y)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&jd(s,i),ea(a,o);var c=ea(a,i);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?Pd(s,f):h==="dangerouslySetInnerHTML"?Nd(s,f):h==="children"?zn(s,f):sl(s,h,f,c)}switch(a){case"input":Jo(s,i);break;case"textarea":kd(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Br(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Br(s,!!i.multiple,i.defaultValue,!0):Br(s,!!i.multiple,i.multiple?[]:"",!1))}s[Jn]=i}catch(y){Y(t,t.return,y)}}break;case 6:if(We(e,t),et(t),n&4){if(t.stateNode===null)throw Error(k(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Y(t,t.return,y)}}break;case 3:if(We(e,t),et(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wn(e.containerInfo)}catch(y){Y(t,t.return,y)}break;case 4:We(e,t),et(t);break;case 13:We(e,t),et(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||($l=Z())),n&4&&oc(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(pe=(c=pe)||h,We(e,t),pe=c):We(e,t),et(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(P=t,h=t.child;h!==null;){for(f=P=h;P!==null;){switch(p=P,v=p.child,p.tag){case 0:case 11:case 14:case 15:Rn(4,p,p.return);break;case 1:$r(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(y){Y(n,r,y)}}break;case 5:$r(p,p.return);break;case 22:if(p.memoizedState!==null){lc(f);continue}}v!==null?(v.return=p,P=v):lc(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Cd("display",o))}catch(y){Y(t,t.return,y)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Y(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:We(e,t),et(t),n&4&&oc(t);break;case 21:break;default:We(e,t),et(t)}}function et(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(ef(r)){var n=r;break e}r=r.return}throw Error(k(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(zn(s,""),n.flags&=-33);var i=ic(t);Oa(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=ic(t);Pa(t,a,o);break;default:throw Error(k(161))}}catch(u){Y(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Jg(t,e,r){P=t,nf(t)}function nf(t,e,r){for(var n=(t.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Os;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||pe;a=Os;var c=pe;if(Os=o,(pe=u)&&!c)for(P=s;P!==null;)o=P,u=o.child,o.tag===22&&o.memoizedState!==null?uc(s):u!==null?(u.return=o,P=u):uc(s);for(;i!==null;)P=i,nf(i),i=i.sibling;P=s,Os=a,pe=c}ac(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):ac(t)}}function ac(t){for(;P!==null;){var e=P;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pe||Mi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!pe)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:qe(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Hu(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Hu(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Wn(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}pe||e.flags&512&&Ca(e)}catch(p){Y(e,e.return,p)}}if(e===t){P=null;break}if(r=e.sibling,r!==null){r.return=e.return,P=r;break}P=e.return}}function lc(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var r=e.sibling;if(r!==null){r.return=e.return,P=r;break}P=e.return}}function uc(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Mi(4,e)}catch(u){Y(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(u){Y(e,s,u)}}var i=e.return;try{Ca(e)}catch(u){Y(e,i,u)}break;case 5:var o=e.return;try{Ca(e)}catch(u){Y(e,o,u)}}}catch(u){Y(e,e.return,u)}if(e===t){P=null;break}var a=e.sibling;if(a!==null){a.return=e.return,P=a;break}P=e.return}}var Qg=Math.ceil,_i=gt.ReactCurrentDispatcher,Dl=gt.ReactCurrentOwner,ze=gt.ReactCurrentBatchConfig,z=0,le=null,re=null,ce=0,Ne=0,Ur=Mt(0),ie=0,ts=null,dr=0,Fi=0,Ll=0,An=null,_e=null,$l=0,Xr=1/0,ot=null,bi=!1,Ta=null,It=null,Ts=!1,Nt=null,Si=0,In=0,Ra=null,Xs=-1,Zs=0;function ye(){return z&6?Z():Xs!==-1?Xs:Xs=Z()}function Dt(t){return t.mode&1?z&2&&ce!==0?ce&-ce:Ag.transition!==null?(Zs===0&&(Zs=Md()),Zs):(t=M,t!==0||(t=window.event,t=t===void 0?16:Gd(t.type)),t):1}function Xe(t,e,r,n){if(50<In)throw In=0,Ra=null,Error(k(185));us(t,r,n),(!(z&2)||t!==le)&&(t===le&&(!(z&2)&&(Fi|=r),ie===4&&jt(t,ce)),ke(t,n),r===1&&z===0&&!(e.mode&1)&&(Xr=Z()+500,Ui&&Ft()))}function ke(t,e){var r=t.callbackNode;Am(t,e);var n=oi(t,t===le?ce:0);if(n===0)r!==null&&yu(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&yu(r),e===1)t.tag===0?Rg(cc.bind(null,t)):fh(cc.bind(null,t)),Cg(function(){!(z&6)&&Ft()}),r=null;else{switch(Fd(n)){case 1:r=ul;break;case 4:r=Bd;break;case 16:r=ii;break;case 536870912:r=zd;break;default:r=ii}r=hf(r,sf.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function sf(t,e){if(Xs=-1,Zs=0,z&6)throw Error(k(327));var r=t.callbackNode;if(Wr()&&t.callbackNode!==r)return null;var n=oi(t,t===le?ce:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ji(t,n);else{e=n;var s=z;z|=2;var i=af();(le!==t||ce!==e)&&(ot=null,Xr=Z()+500,or(t,e));do try{Zg();break}catch(a){of(t,a)}while(!0);bl(),_i.current=i,z=s,re!==null?e=0:(le=null,ce=0,e=ie)}if(e!==0){if(e===2&&(s=ia(t),s!==0&&(n=s,e=Aa(t,s))),e===1)throw r=ts,or(t,0),jt(t,n),ke(t,Z()),r;if(e===6)jt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Yg(s)&&(e=ji(t,n),e===2&&(i=ia(t),i!==0&&(n=i,e=Aa(t,i))),e===1))throw r=ts,or(t,0),jt(t,n),ke(t,Z()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(k(345));case 2:Xt(t,_e,ot);break;case 3:if(jt(t,n),(n&130023424)===n&&(e=$l+500-Z(),10<e)){if(oi(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){ye(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=fa(Xt.bind(null,t,_e,ot),e);break}Xt(t,_e,ot);break;case 4:if(jt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Ye(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=Z()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Qg(n/1960))-n,10<n){t.timeoutHandle=fa(Xt.bind(null,t,_e,ot),n);break}Xt(t,_e,ot);break;case 5:Xt(t,_e,ot);break;default:throw Error(k(329))}}}return ke(t,Z()),t.callbackNode===r?sf.bind(null,t):null}function Aa(t,e){var r=An;return t.current.memoizedState.isDehydrated&&(or(t,e).flags|=256),t=ji(t,e),t!==2&&(e=_e,_e=r,e!==null&&Ia(e)),t}function Ia(t){_e===null?_e=t:_e.push.apply(_e,t)}function Yg(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ze(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jt(t,e){for(e&=~Ll,e&=~Fi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ye(e),n=1<<r;t[r]=-1,e&=~n}}function cc(t){if(z&6)throw Error(k(327));Wr();var e=oi(t,0);if(!(e&1))return ke(t,Z()),null;var r=ji(t,e);if(t.tag!==0&&r===2){var n=ia(t);n!==0&&(e=n,r=Aa(t,n))}if(r===1)throw r=ts,or(t,0),jt(t,e),ke(t,Z()),r;if(r===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xt(t,_e,ot),ke(t,Z()),null}function Ul(t,e){var r=z;z|=1;try{return t(e)}finally{z=r,z===0&&(Xr=Z()+500,Ui&&Ft())}}function hr(t){Nt!==null&&Nt.tag===0&&!(z&6)&&Wr();var e=z;z|=1;var r=ze.transition,n=M;try{if(ze.transition=null,M=1,t)return t()}finally{M=n,ze.transition=r,z=e,!(z&6)&&Ft()}}function Bl(){Ne=Ur.current,H(Ur)}function or(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Ng(r)),re!==null)for(r=re.return;r!==null;){var n=r;switch(wl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&di();break;case 3:Qr(),H(Se),H(me),Cl();break;case 5:Nl(n);break;case 4:Qr();break;case 13:H(G);break;case 19:H(G);break;case 10:Sl(n.type._context);break;case 22:case 23:Bl()}r=r.return}if(le=t,re=t=Lt(t.current,null),ce=Ne=e,ie=0,ts=null,Ll=Fi=dr=0,_e=An=null,nr!==null){for(e=0;e<nr.length;e++)if(r=nr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}nr=null}return t}function of(t,e){do{var r=re;try{if(bl(),Js.current=xi,wi){for(var n=J.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}wi=!1}if(cr=0,ae=se=J=null,Tn=!1,Xn=0,Dl.current=null,r===null||r.return===null){ie=1,ts=e,re=null;break}e:{var i=t,o=r.return,a=r,u=e;if(e=ce,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=Yu(o);if(v!==null){v.flags&=-257,Xu(v,o,a,i,e),v.mode&1&&Qu(i,c,e),e=v,u=c;var x=e.updateQueue;if(x===null){var y=new Set;y.add(u),e.updateQueue=y}else x.add(u);break e}else{if(!(e&1)){Qu(i,c,e),zl();break e}u=Error(k(426))}}else if(q&&a.mode&1){var w=Yu(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Xu(w,o,a,i,e),xl(Yr(u,a));break e}}i=u=Yr(u,a),ie!==4&&(ie=2),An===null?An=[i]:An.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Fh(i,u,e);Wu(i,g);break e;case 1:a=u;var d=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(It===null||!It.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Vh(i,a,e);Wu(i,_);break e}}i=i.return}while(i!==null)}uf(r)}catch(b){e=b,re===r&&r!==null&&(re=r=r.return);continue}break}while(!0)}function af(){var t=_i.current;return _i.current=xi,t===null?xi:t}function zl(){(ie===0||ie===3||ie===2)&&(ie=4),le===null||!(dr&268435455)&&!(Fi&268435455)||jt(le,ce)}function ji(t,e){var r=z;z|=2;var n=af();(le!==t||ce!==e)&&(ot=null,or(t,e));do try{Xg();break}catch(s){of(t,s)}while(!0);if(bl(),z=r,_i.current=n,re!==null)throw Error(k(261));return le=null,ce=0,ie}function Xg(){for(;re!==null;)lf(re)}function Zg(){for(;re!==null&&!jm();)lf(re)}function lf(t){var e=df(t.alternate,t,Ne);t.memoizedProps=t.pendingProps,e===null?uf(t):re=e,Dl.current=null}function uf(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=qg(r,e),r!==null){r.flags&=32767,re=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ie=6,re=null;return}}else if(r=Hg(r,e,Ne),r!==null){re=r;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);ie===0&&(ie=5)}function Xt(t,e,r){var n=M,s=ze.transition;try{ze.transition=null,M=1,e0(t,e,r,n)}finally{ze.transition=s,M=n}return null}function e0(t,e,r,n){do Wr();while(Nt!==null);if(z&6)throw Error(k(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Im(t,i),t===le&&(re=le=null,ce=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ts||(Ts=!0,hf(ii,function(){return Wr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ze.transition,ze.transition=null;var o=M;M=1;var a=z;z|=4,Dl.current=null,Gg(t,r),rf(r,t),xg(da),ai=!!ca,da=ca=null,t.current=r,Jg(r),km(),z=a,M=o,ze.transition=i}else t.current=r;if(Ts&&(Ts=!1,Nt=t,Si=s),i=t.pendingLanes,i===0&&(It=null),Cm(r.stateNode),ke(t,Z()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(bi)throw bi=!1,t=Ta,Ta=null,t;return Si&1&&t.tag!==0&&Wr(),i=t.pendingLanes,i&1?t===Ra?In++:(In=0,Ra=t):In=0,Ft(),null}function Wr(){if(Nt!==null){var t=Fd(Si),e=ze.transition,r=M;try{if(ze.transition=null,M=16>t?16:t,Nt===null)var n=!1;else{if(t=Nt,Nt=null,Si=0,z&6)throw Error(k(331));var s=z;for(z|=4,P=t.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(P=c;P!==null;){var h=P;switch(h.tag){case 0:case 11:case 15:Rn(8,h,i)}var f=h.child;if(f!==null)f.return=h,P=f;else for(;P!==null;){h=P;var p=h.sibling,v=h.return;if(Zh(h),h===c){P=null;break}if(p!==null){p.return=v,P=p;break}P=v}}}var x=i.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Rn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,P=g;break e}P=i.return}}var d=t.current;for(P=d;P!==null;){o=P;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,P=m;else e:for(o=d;P!==null;){if(a=P,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Mi(9,a)}}catch(b){Y(a,a.return,b)}if(a===o){P=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,P=_;break e}P=a.return}}if(z=s,Ft(),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(Ai,t)}catch{}n=!0}return n}finally{M=r,ze.transition=e}}return!1}function dc(t,e,r){e=Yr(r,e),e=Fh(t,e,1),t=At(t,e,1),e=ye(),t!==null&&(us(t,1,e),ke(t,e))}function Y(t,e,r){if(t.tag===3)dc(t,t,r);else for(;e!==null;){if(e.tag===3){dc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(It===null||!It.has(n))){t=Yr(r,t),t=Vh(e,t,1),e=At(e,t,1),t=ye(),e!==null&&(us(e,1,t),ke(e,t));break}}e=e.return}}function t0(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ye(),t.pingedLanes|=t.suspendedLanes&r,le===t&&(ce&r)===r&&(ie===4||ie===3&&(ce&130023424)===ce&&500>Z()-$l?or(t,0):Ll|=r),ke(t,e)}function cf(t,e){e===0&&(t.mode&1?(e=_s,_s<<=1,!(_s&130023424)&&(_s=4194304)):e=1);var r=ye();t=pt(t,e),t!==null&&(us(t,e,r),ke(t,r))}function r0(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),cf(t,r)}function n0(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(k(314))}n!==null&&n.delete(e),cf(t,r)}var df;df=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Se.current)be=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return be=!1,Wg(t,e,r);be=!!(t.flags&131072)}else be=!1,q&&e.flags&1048576&&ph(e,pi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ys(t,e),t=e.pendingProps;var s=Kr(e,me.current);Vr(e,r),s=Ol(null,e,n,t,s,r);var i=Tl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,je(n)?(i=!0,hi(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,kl(e),s.updater=zi,e.stateNode=s,s._reactInternals=e,xa(e,n,t,r),e=Sa(null,e,n,!0,i,r)):(e.tag=0,q&&i&&yl(e),ge(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ys(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=i0(n),t=qe(n,t),s){case 0:e=ba(null,e,n,t,r);break e;case 1:e=tc(null,e,n,t,r);break e;case 11:e=Zu(null,e,n,t,r);break e;case 14:e=ec(null,e,n,qe(n.type,t),r);break e}throw Error(k(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:qe(n,s),ba(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:qe(n,s),tc(t,e,n,s,r);case 3:e:{if(Kh(e),t===null)throw Error(k(387));n=e.pendingProps,i=e.memoizedState,s=i.element,xh(t,e),vi(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Yr(Error(k(423)),e),e=rc(t,e,n,r,s);break e}else if(n!==s){s=Yr(Error(k(424)),e),e=rc(t,e,n,r,s);break e}else for(Oe=Rt(e.stateNode.containerInfo.firstChild),Te=e,q=!0,Qe=null,r=yh(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Gr(),n===s){e=mt(t,e,r);break e}ge(t,e,n,r)}e=e.child}return e;case 5:return _h(e),t===null&&va(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,ha(n,s)?o=null:i!==null&&ha(n,i)&&(e.flags|=32),qh(t,e),ge(t,e,o,r),e.child;case 6:return t===null&&va(e),null;case 13:return Gh(t,e,r);case 4:return El(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Jr(e,null,n,r):ge(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:qe(n,s),Zu(t,e,n,s,r);case 7:return ge(t,e,e.pendingProps,r),e.child;case 8:return ge(t,e,e.pendingProps.children,r),e.child;case 12:return ge(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,V(mi,n._currentValue),n._currentValue=o,i!==null)if(Ze(i.value,o)){if(i.children===s.children&&!Se.current){e=mt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=dt(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),ya(i.return,r,e),a.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(k(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),ya(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ge(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Vr(e,r),s=Me(s),n=n(s),e.flags|=1,ge(t,e,n,r),e.child;case 14:return n=e.type,s=qe(n,e.pendingProps),s=qe(n.type,s),ec(t,e,n,s,r);case 15:return Wh(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:qe(n,s),Ys(t,e),e.tag=1,je(n)?(t=!0,hi(e)):t=!1,Vr(e,r),Mh(e,n,s),xa(e,n,s,r),Sa(null,e,n,!0,t,r);case 19:return Jh(t,e,r);case 22:return Hh(t,e,r)}throw Error(k(156,e.tag))};function hf(t,e){return Ud(t,e)}function s0(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Be(t,e,r,n){return new s0(t,e,r,n)}function Ml(t){return t=t.prototype,!(!t||!t.isReactComponent)}function i0(t){if(typeof t=="function")return Ml(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ol)return 11;if(t===al)return 14}return 2}function Lt(t,e){var r=t.alternate;return r===null?(r=Be(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ei(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Ml(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Cr:return ar(r.children,s,i,e);case il:o=8,s|=8;break;case Wo:return t=Be(12,r,e,s|2),t.elementType=Wo,t.lanes=i,t;case Ho:return t=Be(13,r,e,s),t.elementType=Ho,t.lanes=i,t;case qo:return t=Be(19,r,e,s),t.elementType=qo,t.lanes=i,t;case _d:return Vi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wd:o=10;break e;case xd:o=9;break e;case ol:o=11;break e;case al:o=14;break e;case _t:o=16,n=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=Be(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function ar(t,e,r,n){return t=Be(7,t,n,e),t.lanes=r,t}function Vi(t,e,r,n){return t=Be(22,t,n,e),t.elementType=_d,t.lanes=r,t.stateNode={isHidden:!1},t}function Po(t,e,r){return t=Be(6,t,null,e),t.lanes=r,t}function Oo(t,e,r){return e=Be(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function o0(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uo(0),this.expirationTimes=uo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fl(t,e,r,n,s,i,o,a,u){return t=new o0(t,e,r,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Be(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},kl(i),t}function a0(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function ff(t){if(!t)return Bt;t=t._reactInternals;e:{if(pr(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(je(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var r=t.type;if(je(r))return hh(t,r,e)}return e}function pf(t,e,r,n,s,i,o,a,u){return t=Fl(r,n,!0,t,s,i,o,a,u),t.context=ff(null),r=t.current,n=ye(),s=Dt(r),i=dt(n,s),i.callback=e??null,At(r,i,s),t.current.lanes=s,us(t,s,n),ke(t,n),t}function Wi(t,e,r,n){var s=e.current,i=ye(),o=Dt(s);return r=ff(r),e.context===null?e.context=r:e.pendingContext=r,e=dt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=At(s,e,o),t!==null&&(Xe(t,s,o,i),Gs(t,s,o)),o}function ki(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Vl(t,e){hc(t,e),(t=t.alternate)&&hc(t,e)}function l0(){return null}var mf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wl(t){this._internalRoot=t}Hi.prototype.render=Wl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));Wi(t,e,null,null)};Hi.prototype.unmount=Wl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hr(function(){Wi(null,t,null,null)}),e[ft]=null}};function Hi(t){this._internalRoot=t}Hi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Hd();t={blockedOn:null,target:t,priority:e};for(var r=0;r<St.length&&e!==0&&e<St[r].priority;r++);St.splice(r,0,t),r===0&&Kd(t)}};function Hl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fc(){}function u0(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=ki(o);i.call(c)}}var o=pf(e,n,t,0,null,!1,!1,"",fc);return t._reactRootContainer=o,t[ft]=o.current,Kn(t.nodeType===8?t.parentNode:t),hr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=ki(u);a.call(c)}}var u=Fl(t,0,!1,null,null,!1,!1,"",fc);return t._reactRootContainer=u,t[ft]=u.current,Kn(t.nodeType===8?t.parentNode:t),hr(function(){Wi(e,u,r,n)}),u}function Ki(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=ki(o);a.call(u)}}Wi(e,o,t,s)}else o=u0(r,e,t,s,n);return ki(o)}Vd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Sn(e.pendingLanes);r!==0&&(cl(e,r|1),ke(e,Z()),!(z&6)&&(Xr=Z()+500,Ft()))}break;case 13:hr(function(){var n=pt(t,1);if(n!==null){var s=ye();Xe(n,t,1,s)}}),Vl(t,1)}};dl=function(t){if(t.tag===13){var e=pt(t,134217728);if(e!==null){var r=ye();Xe(e,t,134217728,r)}Vl(t,134217728)}};Wd=function(t){if(t.tag===13){var e=Dt(t),r=pt(t,e);if(r!==null){var n=ye();Xe(r,t,e,n)}Vl(t,e)}};Hd=function(){return M};qd=function(t,e){var r=M;try{return M=t,e()}finally{M=r}};ra=function(t,e,r){switch(e){case"input":if(Jo(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=$i(n);if(!s)throw Error(k(90));Sd(n),Jo(n,s)}}}break;case"textarea":kd(t,r);break;case"select":e=r.value,e!=null&&Br(t,!!r.multiple,e,!1)}};Rd=Ul;Ad=hr;var c0={usingClientEntryPoint:!1,Events:[ds,Rr,$i,Od,Td,Ul]},xn={findFiberByHostInstance:rr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d0={bundleType:xn.bundleType,version:xn.version,rendererPackageName:xn.rendererPackageName,rendererConfig:xn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ld(t),t===null?null:t.stateNode},findFiberByHostInstance:xn.findFiberByHostInstance||l0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rs.isDisabled&&Rs.supportsFiber)try{Ai=Rs.inject(d0),st=Rs}catch{}}Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c0;Ie.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hl(e))throw Error(k(200));return a0(t,e,null,r)};Ie.createRoot=function(t,e){if(!Hl(t))throw Error(k(299));var r=!1,n="",s=mf;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Fl(t,1,!1,null,null,r,!1,n,s),t[ft]=e.current,Kn(t.nodeType===8?t.parentNode:t),new Wl(e)};Ie.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=Ld(e),t=t===null?null:t.stateNode,t};Ie.flushSync=function(t){return hr(t)};Ie.hydrate=function(t,e,r){if(!qi(e))throw Error(k(200));return Ki(null,t,e,!0,r)};Ie.hydrateRoot=function(t,e,r){if(!Hl(t))throw Error(k(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=mf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=pf(e,null,t,1,r??null,s,!1,i,o),t[ft]=e.current,Kn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Hi(e)};Ie.render=function(t,e,r){if(!qi(e))throw Error(k(200));return Ki(null,t,e,!1,r)};Ie.unmountComponentAtNode=function(t){if(!qi(t))throw Error(k(40));return t._reactRootContainer?(hr(function(){Ki(null,null,t,!1,function(){t._reactRootContainer=null,t[ft]=null})}),!0):!1};Ie.unstable_batchedUpdates=Ul;Ie.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!qi(r))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return Ki(t,e,r,!1,n)};Ie.version="18.3.1-next-f1338f8080-20240426";function gf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gf)}catch(t){console.error(t)}}gf(),md.exports=Ie;var h0=md.exports,pc=h0;Fo.createRoot=pc.createRoot,Fo.hydrateRoot=pc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rs(){return rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rs.apply(this,arguments)}var Ct;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ct||(Ct={}));const mc="popstate";function f0(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:a}=n.location;return Da("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ei(s)}return m0(e,r,null,t)}function ee(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function p0(){return Math.random().toString(36).substr(2,8)}function gc(t,e){return{usr:t.state,key:t.key,idx:e}}function Da(t,e,r,n){return r===void 0&&(r=null),rs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?on(e):e,{state:r,key:e&&e.key||n||p0()})}function Ei(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function on(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function m0(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Ct.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(rs({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Ct.Pop;let w=h(),g=w==null?null:w-c;c=w,u&&u({action:a,location:y.location,delta:g})}function p(w,g){a=Ct.Push;let d=Da(y.location,w,g);c=h()+1;let m=gc(d,c),_=y.createHref(d);try{o.pushState(m,"",_)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(_)}i&&u&&u({action:a,location:y.location,delta:1})}function v(w,g){a=Ct.Replace;let d=Da(y.location,w,g);c=h();let m=gc(d,c),_=y.createHref(d);o.replaceState(m,"",_),i&&u&&u({action:a,location:y.location,delta:0})}function x(w){let g=s.location.origin!=="null"?s.location.origin:s.location.href,d=typeof w=="string"?w:Ei(w);return d=d.replace(/ $/,"%20"),ee(g,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,g)}let y={get action(){return a},get location(){return t(s,o)},listen(w){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(mc,f),u=w,()=>{s.removeEventListener(mc,f),u=null}},createHref(w){return e(s,w)},createURL:x,encodeLocation(w){let g=x(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:v,go(w){return o.go(w)}};return y}var vc;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vc||(vc={}));function g0(t,e,r){return r===void 0&&(r="/"),v0(t,e,r)}function v0(t,e,r,n){let s=typeof e=="string"?on(e):e,i=ql(s.pathname||"/",r);if(i==null)return null;let o=yf(t);y0(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=O0(i);a=N0(o[u],c)}return a}function yf(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(ee(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=$t([n,u.relativePath]),h=r.concat(u);i.children&&i.children.length>0&&(ee(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),yf(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:k0(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of wf(i.path))s(i,o,u)}),e}function wf(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=wf(n.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function y0(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:E0(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const w0=/^:[\w-]+$/,x0=3,_0=2,b0=1,S0=10,j0=-2,yc=t=>t==="*";function k0(t,e){let r=t.split("/"),n=r.length;return r.some(yc)&&(n+=j0),e&&(n+=_0),r.filter(s=>!yc(s)).reduce((s,i)=>s+(w0.test(i)?x0:i===""?b0:S0),n)}function E0(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function N0(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let u=n[a],c=a===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=C0({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),p=u.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:$t([i,f.pathname]),pathnameBase:I0($t([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=$t([i,f.pathnameBase]))}return o}function C0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=P0(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,h,f)=>{let{paramName:p,isOptional:v}=h;if(p==="*"){let y=a[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=a[f];return v&&!x?c[p]=void 0:c[p]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function P0(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),vf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(n.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function O0(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ql(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function T0(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?on(t):t;return{pathname:r?r.startsWith("/")?r:R0(r,e):e,search:D0(n),hash:L0(s)}}function R0(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function To(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function A0(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Kl(t,e){let r=A0(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Gl(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=on(t):(s=rs({},t),ee(!s.pathname||!s.pathname.includes("?"),To("?","pathname","search",s)),ee(!s.pathname||!s.pathname.includes("#"),To("#","pathname","hash",s)),ee(!s.search||!s.search.includes("#"),To("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let u=T0(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const $t=t=>t.join("/").replace(/\/\/+/g,"/"),I0=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),D0=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,L0=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xf=["post","put","patch","delete"];new Set(xf);const U0=["get",...xf];new Set(U0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ns(){return ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ns.apply(this,arguments)}const Jl=S.createContext(null),B0=S.createContext(null),Vt=S.createContext(null),Gi=S.createContext(null),Wt=S.createContext({outlet:null,matches:[],isDataRoute:!1}),_f=S.createContext(null);function z0(t,e){let{relative:r}=e===void 0?{}:e;an()||ee(!1);let{basename:n,navigator:s}=S.useContext(Vt),{hash:i,pathname:o,search:a}=Sf(t,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:$t([n,o])),s.createHref({pathname:u,search:a,hash:i})}function an(){return S.useContext(Gi)!=null}function ln(){return an()||ee(!1),S.useContext(Gi).location}function bf(t){S.useContext(Vt).static||S.useLayoutEffect(t)}function Ji(){let{isDataRoute:t}=S.useContext(Wt);return t?Z0():M0()}function M0(){an()||ee(!1);let t=S.useContext(Jl),{basename:e,future:r,navigator:n}=S.useContext(Vt),{matches:s}=S.useContext(Wt),{pathname:i}=ln(),o=JSON.stringify(Kl(s,r.v7_relativeSplatPath)),a=S.useRef(!1);return bf(()=>{a.current=!0}),S.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let f=Gl(c,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:$t([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,o,i,t])}function Sf(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=S.useContext(Vt),{matches:s}=S.useContext(Wt),{pathname:i}=ln(),o=JSON.stringify(Kl(s,n.v7_relativeSplatPath));return S.useMemo(()=>Gl(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function F0(t,e){return V0(t,e)}function V0(t,e,r,n){an()||ee(!1);let{navigator:s}=S.useContext(Vt),{matches:i}=S.useContext(Wt),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=ln(),h;if(e){var f;let w=typeof e=="string"?on(e):e;u==="/"||(f=w.pathname)!=null&&f.startsWith(u)||ee(!1),h=w}else h=c;let p=h.pathname||"/",v=p;if(u!=="/"){let w=u.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=g0(t,{pathname:v}),y=G0(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:$t([u,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:$t([u,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return e&&y?S.createElement(Gi.Provider,{value:{location:ns({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ct.Pop}},y):y}function W0(){let t=X0(),e=$0(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),r?S.createElement("pre",{style:s},r):null,null)}const H0=S.createElement(W0,null);class q0 extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?S.createElement(Wt.Provider,{value:this.props.routeContext},S.createElement(_f.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function K0(t){let{routeContext:e,match:r,children:n}=t,s=S.useContext(Jl);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(Wt.Provider,{value:e},n)}function G0(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||ee(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:v}=r,x=f.route.loader&&p[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||x){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let v,x=!1,y=null,w=null;r&&(v=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||H0,u&&(c<0&&p===0?(ev("route-fallback"),x=!0,w=null):c===p&&(x=!0,w=f.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,p+1)),d=()=>{let m;return v?m=y:x?m=w:f.route.Component?m=S.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=h,S.createElement(K0,{match:f,routeContext:{outlet:h,matches:g,isDataRoute:r!=null},children:m})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?S.createElement(q0,{location:r.location,revalidation:r.revalidation,component:y,error:v,children:d(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):d()},null)}var jf=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jf||{}),kf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kf||{});function J0(t){let e=S.useContext(Jl);return e||ee(!1),e}function Q0(t){let e=S.useContext(B0);return e||ee(!1),e}function Y0(t){let e=S.useContext(Wt);return e||ee(!1),e}function Ef(t){let e=Y0(),r=e.matches[e.matches.length-1];return r.route.id||ee(!1),r.route.id}function X0(){var t;let e=S.useContext(_f),r=Q0(),n=Ef();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Z0(){let{router:t}=J0(jf.UseNavigateStable),e=Ef(kf.UseNavigateStable),r=S.useRef(!1);return bf(()=>{r.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ns({fromRouteId:e},i)))},[t,e])}const wc={};function ev(t,e,r){wc[t]||(wc[t]=!0)}function tv(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Qi(t){let{to:e,replace:r,state:n,relative:s}=t;an()||ee(!1);let{future:i,static:o}=S.useContext(Vt),{matches:a}=S.useContext(Wt),{pathname:u}=ln(),c=Ji(),h=Gl(e,Kl(a,i.v7_relativeSplatPath),u,s==="path"),f=JSON.stringify(h);return S.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:s}),[c,f,s,r,n]),null}function tt(t){ee(!1)}function rv(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Ct.Pop,navigator:i,static:o=!1,future:a}=t;an()&&ee(!1);let u=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:u,navigator:i,static:o,future:ns({v7_relativeSplatPath:!1},a)}),[u,a,i,o]);typeof n=="string"&&(n=on(n));let{pathname:h="/",search:f="",hash:p="",state:v=null,key:x="default"}=n,y=S.useMemo(()=>{let w=ql(h,u);return w==null?null:{location:{pathname:w,search:f,hash:p,state:v,key:x},navigationType:s}},[u,h,f,p,v,x,s]);return y==null?null:S.createElement(Vt.Provider,{value:c},S.createElement(Gi.Provider,{children:r,value:y}))}function nv(t){let{children:e,location:r}=t;return F0(La(e),r)}new Promise(()=>{});function La(t,e){e===void 0&&(e=[]);let r=[];return S.Children.forEach(t,(n,s)=>{if(!S.isValidElement(n))return;let i=[...e,s];if(n.type===S.Fragment){r.push.apply(r,La(n.props.children,i));return}n.type!==tt&&ee(!1),!n.props.index||!n.props.children||ee(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=La(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $a(){return $a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$a.apply(this,arguments)}function sv(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function iv(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ov(t,e){return t.button===0&&(!e||e==="_self")&&!iv(t)}const av=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lv="6";try{window.__reactRouterVersion=lv}catch{}const uv="startTransition",xc=tm[uv];function cv(t){let{basename:e,children:r,future:n,window:s}=t,i=S.useRef();i.current==null&&(i.current=f0({window:s,v5Compat:!0}));let o=i.current,[a,u]=S.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},h=S.useCallback(f=>{c&&xc?xc(()=>u(f)):u(f)},[u,c]);return S.useLayoutEffect(()=>o.listen(h),[o,h]),S.useEffect(()=>tv(n),[n]),S.createElement(rv,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const dv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fv=S.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:u,to:c,preventScrollReset:h,viewTransition:f}=e,p=sv(e,av),{basename:v}=S.useContext(Vt),x,y=!1;if(typeof c=="string"&&hv.test(c)&&(x=c,dv))try{let m=new URL(window.location.href),_=c.startsWith("//")?new URL(m.protocol+c):new URL(c),b=ql(_.pathname,v);_.origin===m.origin&&b!=null?c=b+_.search+_.hash:y=!0}catch{}let w=z0(c,{relative:s}),g=pv(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:s,viewTransition:f});function d(m){n&&n(m),m.defaultPrevented||g(m)}return S.createElement("a",$a({},p,{href:x||w,onClick:y||i?n:d,ref:r,target:u}))});var _c;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_c||(_c={}));var bc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bc||(bc={}));function pv(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,u=Ji(),c=ln(),h=Sf(t,{relative:o});return S.useCallback(f=>{if(ov(f,r)){f.preventDefault();let p=n!==void 0?n:Ei(c)===Ei(h);u(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,u,h,n,s,r,t,i,o,a])}const mv={},Sc=t=>{let e;const r=new Set,n=(h,f)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const v=e;e=f??(typeof p!="object"||p===null)?p:Object.assign({},e,p),r.forEach(x=>x(e,v))}},s=()=>e,u={setState:n,getState:s,getInitialState:()=>c,subscribe:h=>(r.add(h),()=>r.delete(h)),destroy:()=>{(mv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=e=t(n,s,u);return u},gv=t=>t?Sc(t):Sc;var Nf={exports:{}},Cf={},Pf={exports:{}},Of={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zr=S;function vv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yv=typeof Object.is=="function"?Object.is:vv,wv=Zr.useState,xv=Zr.useEffect,_v=Zr.useLayoutEffect,bv=Zr.useDebugValue;function Sv(t,e){var r=e(),n=wv({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return _v(function(){s.value=r,s.getSnapshot=e,Ro(s)&&i({inst:s})},[t,r,e]),xv(function(){return Ro(s)&&i({inst:s}),t(function(){Ro(s)&&i({inst:s})})},[t]),bv(r),r}function Ro(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!yv(t,r)}catch{return!0}}function jv(t,e){return e()}var kv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jv:Sv;Of.useSyncExternalStore=Zr.useSyncExternalStore!==void 0?Zr.useSyncExternalStore:kv;Pf.exports=Of;var Ev=Pf.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yi=S,Nv=Ev;function Cv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pv=typeof Object.is=="function"?Object.is:Cv,Ov=Nv.useSyncExternalStore,Tv=Yi.useRef,Rv=Yi.useEffect,Av=Yi.useMemo,Iv=Yi.useDebugValue;Cf.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var i=Tv(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Av(function(){function u(v){if(!c){if(c=!0,h=v,v=n(v),s!==void 0&&o.hasValue){var x=o.value;if(s(x,v))return f=x}return f=v}if(x=f,Pv(h,v))return x;var y=n(v);return s!==void 0&&s(x,y)?(h=v,x):(h=v,f=y)}var c=!1,h,f,p=r===void 0?null:r;return[function(){return u(e())},p===null?void 0:function(){return u(p())}]},[e,r,n,s]);var a=Ov(t,i[0],i[1]);return Rv(function(){o.hasValue=!0,o.value=a},[a]),Iv(a),a};Nf.exports=Cf;var Dv=Nf.exports;const Lv=rd(Dv),Tf={},{useDebugValue:$v}=tl,{useSyncExternalStoreWithSelector:Uv}=Lv;let jc=!1;const Bv=t=>t;function zv(t,e=Bv,r){(Tf?"production":void 0)!=="production"&&r&&!jc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),jc=!0);const n=Uv(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return $v(n),n}const Mv=t=>{(Tf?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?gv(t):t,r=(n,s)=>zv(e,n,s);return Object.assign(r,e),r},Fv=t=>Mv,Vv={};function Wv(t,e){let r;try{r=t()}catch{return}return{getItem:s=>{var i;const o=u=>u===null?null:JSON.parse(u,void 0),a=(i=r.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>r.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>r.removeItem(s)}}const ss=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return ss(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return ss(n)(r)}}}},Hv=(t,e)=>(r,n,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,g)=>({...g,...w}),...e},o=!1;const a=new Set,u=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...w)},n,s);const h=ss(i.serialize),f=()=>{const w=i.partialize({...n()});let g;const d=h({state:w,version:i.version}).then(m=>c.setItem(i.name,m)).catch(m=>{g=m});if(g)throw g;return d},p=s.setState;s.setState=(w,g)=>{p(w,g),f()};const v=t((...w)=>{r(...w),f()},n,s);let x;const y=()=>{var w;if(!c)return;o=!1,a.forEach(d=>d(n()));const g=((w=i.onRehydrateStorage)==null?void 0:w.call(i,n()))||void 0;return ss(c.getItem.bind(c))(i.name).then(d=>{if(d)return i.deserialize(d)}).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==i.version){if(i.migrate)return i.migrate(d.state,d.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return d.state}).then(d=>{var m;return x=i.merge(d,(m=n())!=null?m:v),r(x,!0),f()}).then(()=>{g==null||g(x,void 0),o=!0,u.forEach(d=>d(x))}).catch(d=>{g==null||g(void 0,d)})};return s.persist={setOptions:w=>{i={...i,...w},w.getStorage&&(c=w.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:w=>(a.add(w),()=>{a.delete(w)}),onFinishHydration:w=>(u.add(w),()=>{u.delete(w)})},y(),x||v},qv=(t,e)=>(r,n,s)=>{let i={storage:Wv(()=>localStorage),partialize:y=>y,version:0,merge:(y,w)=>({...w,...y}),...e},o=!1;const a=new Set,u=new Set;let c=i.storage;if(!c)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...y)},n,s);const h=()=>{const y=i.partialize({...n()});return c.setItem(i.name,{state:y,version:i.version})},f=s.setState;s.setState=(y,w)=>{f(y,w),h()};const p=t((...y)=>{r(...y),h()},n,s);s.getInitialState=()=>p;let v;const x=()=>{var y,w;if(!c)return;o=!1,a.forEach(d=>{var m;return d((m=n())!=null?m:p)});const g=((w=i.onRehydrateStorage)==null?void 0:w.call(i,(y=n())!=null?y:p))||void 0;return ss(c.getItem.bind(c))(i.name).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==i.version){if(i.migrate)return[!0,i.migrate(d.state,d.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,d.state];return[!1,void 0]}).then(d=>{var m;const[_,b]=d;if(v=i.merge(b,(m=n())!=null?m:p),r(v,!0),_)return h()}).then(()=>{g==null||g(v,void 0),v=n(),o=!0,u.forEach(d=>d(v))}).catch(d=>{g==null||g(void 0,d)})};return s.persist={setOptions:y=>{i={...i,...y},y.storage&&(c=y.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(u.add(y),()=>{u.delete(y)})},i.skipHydration||x(),v||p},Kv=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((Vv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Hv(t,e)):qv(t,e),Gv=Kv;var Ua=function(t,e){return Ua=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Ua(t,e)};function Rf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ua(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ni=function(){return Ni=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ni.apply(this,arguments)};function un(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Af(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function If(t,e){return function(r,n){e(r,n,t)}}function Df(t,e,r,n,s,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=n.kind,u=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,h=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),f,p=!1,v=r.length-1;v>=0;v--){var x={};for(var y in n)x[y]=y==="access"?{}:n[y];for(var y in n.access)x.access[y]=n.access[y];x.addInitializer=function(g){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var w=(0,r[v])(a==="accessor"?{get:h.get,set:h.set}:h[u],x);if(a==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(f=o(w.get))&&(h.get=f),(f=o(w.set))&&(h.set=f),(f=o(w.init))&&s.unshift(f)}else(f=o(w))&&(a==="field"?s.unshift(f):h[u]=f)}c&&Object.defineProperty(c,n.name,h),p=!0}function Lf(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function $f(t){return typeof t=="symbol"?t:"".concat(t)}function Uf(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Bf(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function T(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})}function zf(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(h){return u([c,h])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(h){c=[6,h],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Xi=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Mf(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Xi(e,t,r)}function Ci(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ql(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Ff(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ql(arguments[e]));return t}function Vf(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Wf(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function en(t){return this instanceof en?(this.v=t,this):new en(t)}function Hf(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(v){return function(x){return Promise.resolve(x).then(v,f)}}function a(v,x){n[v]&&(s[v]=function(y){return new Promise(function(w,g){i.push([v,y,w,g])>1||u(v,y)})},x&&(s[v]=x(s[v])))}function u(v,x){try{c(n[v](x))}catch(y){p(i[0][3],y)}}function c(v){v.value instanceof en?Promise.resolve(v.value.v).then(h,f):p(i[0][2],v)}function h(v){u("next",v)}function f(v){u("throw",v)}function p(v,x){v(x),i.shift(),i.length&&u(i[0][0],i[0][1])}}function qf(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:en(t[s](o)),done:!1}:i?i(o):o}:i}}function Kf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Ci=="function"?Ci(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,u){o=t[i](o),s(a,u,o.done,o.value)})}}function s(i,o,a,u){Promise.resolve(u).then(function(c){i({value:c,done:a})},o)}}function Gf(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Jv=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Ba=function(t){return Ba=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Ba(t)};function Jf(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Ba(t),n=0;n<r.length;n++)r[n]!=="default"&&Xi(e,t,r[n]);return Jv(e,t),e}function Qf(t){return t&&t.__esModule?t:{default:t}}function Yf(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Xf(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function Zf(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function ep(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var Qv=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function tp(t){function e(i){t.error=t.hasError?new Qv(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function rp(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?e?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):t}const Yv={__extends:Rf,__assign:Ni,__rest:un,__decorate:Af,__param:If,__esDecorate:Df,__runInitializers:Lf,__propKey:$f,__setFunctionName:Uf,__metadata:Bf,__awaiter:T,__generator:zf,__createBinding:Xi,__exportStar:Mf,__values:Ci,__read:Ql,__spread:Ff,__spreadArrays:Vf,__spreadArray:Wf,__await:en,__asyncGenerator:Hf,__asyncDelegator:qf,__asyncValues:Kf,__makeTemplateObject:Gf,__importStar:Jf,__importDefault:Qf,__classPrivateFieldGet:Yf,__classPrivateFieldSet:Xf,__classPrivateFieldIn:Zf,__addDisposableResource:ep,__disposeResources:tp,__rewriteRelativeImportExtension:rp},Xv=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ep,get __assign(){return Ni},__asyncDelegator:qf,__asyncGenerator:Hf,__asyncValues:Kf,__await:en,__awaiter:T,__classPrivateFieldGet:Yf,__classPrivateFieldIn:Zf,__classPrivateFieldSet:Xf,__createBinding:Xi,__decorate:Af,__disposeResources:tp,__esDecorate:Df,__exportStar:Mf,__extends:Rf,__generator:zf,__importDefault:Qf,__importStar:Jf,__makeTemplateObject:Gf,__metadata:Bf,__param:If,__propKey:$f,__read:Ql,__rest:un,__rewriteRelativeImportExtension:rp,__runInitializers:Lf,__setFunctionName:Uf,__spread:Ff,__spreadArray:Wf,__spreadArrays:Vf,__values:Ci,default:Yv},Symbol.toStringTag,{value:"Module"})),Zv="modulepreload",ey=function(t){return"/"+t},kc={},cn=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=ey(u),u in kc)return;kc[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Zv,c||(f.as="script"),f.crossOrigin="",f.href=u,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,v)=>{f.addEventListener("load",p),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},ty=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>cn(async()=>{const{default:n}=await Promise.resolve().then(()=>mr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Yl extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Ec extends Yl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Nc extends Yl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Cc extends Yl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var za;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(za||(za={}));class ry{constructor(e,{headers:r={},customFetch:n,region:s=za.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=ty(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return T(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:i,method:o,body:a,signal:u}=n;let c={},{region:h}=n;h||(h=this.region);const f=new URL(`${this.url}/${r}`);h&&h!=="any"&&(c["x-region"]=h,f.searchParams.set("forceFunctionRegion",h));let p;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",p=a):typeof a=="string"?(c["Content-Type"]="text/plain",p=a):typeof FormData<"u"&&a instanceof FormData?p=a:(c["Content-Type"]="application/json",p=JSON.stringify(a)):p=a;const v=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:p,signal:u}).catch(g=>{throw g.name==="AbortError"?g:new Ec(g)}),x=v.headers.get("x-relay-error");if(x&&x==="true")throw new Nc(v);if(!v.ok)throw new Cc(v);let y=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield v.json():y==="application/octet-stream"||y==="application/pdf"?w=yield v.blob():y==="text/event-stream"?w=v:y==="multipart/form-data"?w=yield v.formData():w=yield v.text(),{data:w,error:null,response:v}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Ec(i)}:{data:null,error:i,response:i instanceof Cc||i instanceof Nc?i.context:void 0}}})}}var ve={};const dn=nd(Xv);var As={},Is={},Ds={},Ls={},$s={},ny=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},tn=ny();const sy=tn.fetch,np=tn.fetch.bind(tn),sp=tn.Headers,iy=tn.Request,oy=tn.Response,mr=Object.freeze(Object.defineProperty({__proto__:null,Headers:sp,Request:iy,Response:oy,default:np,fetch:sy},Symbol.toStringTag,{value:"Module"})),ay=nd(mr);var Us={},Pc;function ip(){if(Pc)return Us;Pc=1,Object.defineProperty(Us,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Us.default=t,Us}var Oc;function op(){if(Oc)return $s;Oc=1,Object.defineProperty($s,"__esModule",{value:!0});const t=dn,e=t.__importDefault(ay),r=t.__importDefault(ip());class n{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let u=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var h,f,p,v;let x=null,y=null,w=null,g=c.status,d=c.statusText;if(c.ok){if(this.method!=="HEAD"){const j=await c.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?y=j:y=JSON.parse(j))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),b=(p=c.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");_&&b&&b.length>1&&(w=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(x={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,g=406,d="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const _=await c.text();try{x=JSON.parse(_),Array.isArray(x)&&c.status===404&&(y=[],x=null,g=200,d="OK")}catch{c.status===404&&_===""?(g=204,d="No Content"):x={message:_}}if(x&&this.isMaybeSingle&&(!((v=x==null?void 0:x.details)===null||v===void 0)&&v.includes("0 rows"))&&(x=null,g=200,d="OK"),x&&this.shouldThrowOnError)throw new r.default(x)}return{error:x,data:y,count:w,status:g,statusText:d}});return this.shouldThrowOnError||(u=u.catch(c=>{var h,f,p;return{error:{message:`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(p=c==null?void 0:c.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),u.then(i,o)}returns(){return this}overrideTypes(){return this}}return $s.default=n,$s}var Tc;function ap(){if(Tc)return Ls;Tc=1,Object.defineProperty(Ls,"__esModule",{value:!0});const e=dn.__importDefault(op());class r extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:u=a}={}){const c=u?`${u}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const u=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:u=!1,format:c="text"}={}){var h;const f=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,u?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Ls.default=r,Ls}var Rc;function Xl(){if(Rc)return Ds;Rc=1,Object.defineProperty(Ds,"__esModule",{value:!0});const e=dn.__importDefault(ap()),r=new RegExp("[,()]");class n extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(u=>typeof u=="string"&&r.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const h=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${c}fts${h}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const u=a?`${a}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return Ds.default=n,Ds}var Ac;function lp(){if(Ac)return Is;Ac=1,Object.defineProperty(Is,"__esModule",{value:!0});const e=dn.__importDefault(Xl());class r{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},u=o?"HEAD":"GET";let c=!1;const h=(s??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",h),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const u="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(c.length>0){const h=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:u=!0}={}){var c;const h="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(f.length>0){const p=[...new Set(f)].map(v=>`"${v}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Is.default=r,Is}var Ic;function ly(){if(Ic)return As;Ic=1,Object.defineProperty(As,"__esModule",{value:!0});const t=dn,e=t.__importDefault(lp()),r=t.__importDefault(Xl());class n{constructor(i,{headers:o={},schema:a,fetch:u}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=u}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:u=!1,count:c}={}){var h;let f;const p=new URL(`${this.url}/rpc/${i}`);let v;a||u?(f=a?"HEAD":"GET",Object.entries(o).filter(([y,w])=>w!==void 0).map(([y,w])=>[y,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([y,w])=>{p.searchParams.append(y,w)})):(f="POST",v=o);const x=new Headers(this.headers);return c&&x.set("Prefer",`count=${c}`),new r.default({method:f,url:p,headers:x,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return As.default=n,As}Object.defineProperty(ve,"__esModule",{value:!0});var up=ve.PostgrestError=wp=ve.PostgrestBuilder=vp=ve.PostgrestTransformBuilder=mp=ve.PostgrestFilterBuilder=fp=ve.PostgrestQueryBuilder=dp=ve.PostgrestClient=void 0;const hn=dn,cp=hn.__importDefault(ly());var dp=ve.PostgrestClient=cp.default;const hp=hn.__importDefault(lp());var fp=ve.PostgrestQueryBuilder=hp.default;const pp=hn.__importDefault(Xl());var mp=ve.PostgrestFilterBuilder=pp.default;const gp=hn.__importDefault(ap());var vp=ve.PostgrestTransformBuilder=gp.default;const yp=hn.__importDefault(op());var wp=ve.PostgrestBuilder=yp.default;const xp=hn.__importDefault(ip());up=ve.PostgrestError=xp.default;var _p=ve.default={PostgrestClient:cp.default,PostgrestQueryBuilder:hp.default,PostgrestFilterBuilder:pp.default,PostgrestTransformBuilder:gp.default,PostgrestBuilder:yp.default,PostgrestError:xp.default};const uy=td({__proto__:null,get PostgrestBuilder(){return wp},get PostgrestClient(){return dp},get PostgrestError(){return up},get PostgrestFilterBuilder(){return mp},get PostgrestQueryBuilder(){return fp},get PostgrestTransformBuilder(){return vp},default:_p},[ve]),{PostgrestClient:cy,PostgrestQueryBuilder:Jx,PostgrestFilterBuilder:Qx,PostgrestTransformBuilder:Yx,PostgrestBuilder:Xx,PostgrestError:Zx}=_p||uy;class dy{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const hy="2.77.0",fy=`realtime-js/${hy}`,py="1.0.0",Ma=1e4,my=1e3,gy=100;var Dn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Dn||(Dn={}));var ne;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ne||(ne={}));var Je;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Je||(Je={}));var Fa;(function(t){t.websocket="websocket"})(Fa||(Fa={}));var er;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(er||(er={}));class vy{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const u=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:u,payload:c}}}class bp{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var F;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(F||(F={}));const Dc=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=yy(o,t,e,s),i),{}):{}},yy=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Sp(i,o):Va(o)},Sp=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return by(e,r)}switch(t){case F.bool:return wy(e);case F.float4:case F.float8:case F.int2:case F.int4:case F.int8:case F.numeric:case F.oid:return xy(e);case F.json:case F.jsonb:return _y(e);case F.timestamp:return Sy(e);case F.abstime:case F.date:case F.daterange:case F.int4range:case F.int8range:case F.money:case F.reltime:case F.text:case F.time:case F.timestamptz:case F.timetz:case F.tsrange:case F.tstzrange:return Va(e);default:return Va(e)}},Va=t=>t,wy=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},xy=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},_y=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},by=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Sp(e,a))}return t},Sy=t=>typeof t=="string"?t.replace(" ","T"):t,jp=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ao{constructor(e,r,n={},s=Ma){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Lc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Lc||(Lc={}));class Ln{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ln.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=Ln.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ln.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},u={};return this.map(i,(c,h)=>{o[c]||(u[c]=h)}),this.map(o,(c,h)=>{const f=i[c];if(f){const p=h.map(w=>w.presence_ref),v=f.map(w=>w.presence_ref),x=h.filter(w=>v.indexOf(w.presence_ref)<0),y=f.filter(w=>p.indexOf(w.presence_ref)<0);x.length>0&&(a[c]=x),y.length>0&&(u[c]=y)}else a[c]=h}),this.syncDiff(i,{joins:a,leaves:u},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,u)=>{var c;const h=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(u),h.length>0){const f=e[a].map(v=>v.presence_ref),p=h.filter(v=>f.indexOf(v.presence_ref)<0);e[a].unshift(...p)}n(a,h,u)}),this.map(o,(a,u)=>{let c=e[a];if(!c)return;const h=u.map(f=>f.presence_ref);c=c.filter(f=>h.indexOf(f.presence_ref)<0),e[a]=c,s(a,c,u),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $c;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})($c||($c={}));var $n;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})($n||($n={}));var at;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(at||(at={}));class Zl{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ao(this,Je.join,this.params,this.timeout),this.rejoinTimer=new bp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ne.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Je.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Ln(this),this.broadcastEndpointURL=jp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ne.closed){const{config:{broadcast:o,presence:a,private:u}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[$n.PRESENCE]&&this.bindings[$n.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},p={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:h}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(at.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(at.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket.setAuth(),v===void 0){e==null||e(at.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(x=y==null?void 0:y.length)!==null&&x!==void 0?x:0,g=[];for(let d=0;d<w;d++){const m=y[d],{filter:{event:_,schema:b,table:j,filter:E}}=m,C=v&&v[d];if(C&&C.event===_&&C.schema===b&&C.table===j&&C.filter===E)g.push(Object.assign(Object.assign({},m),{id:C.id}));else{this.unsubscribe(),this.state=ne.errored,e==null||e(at.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(at.SUBSCRIBED);return}}).receive("error",v=>{this.state=ne.errored,e==null||e(at.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(at.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ne.joined&&e===$n.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let u=a.statusText;try{const c=await a.json();u=c.error||c.message||u}catch{}return Promise.reject(new Error(u))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,u;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ne.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Je.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ao(this,Je.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ne.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ao(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>gy){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:u,leave:c,join:h}=Je;if(n&&[a,u,c,h].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var x,y,w;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(y=v.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(v=>v.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var x,y,w,g,d,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const _=v.id,b=(x=v.filter)===null||x===void 0?void 0:x.event;return _&&((y=r.ids)===null||y===void 0?void 0:y.includes(_))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(d=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||d===void 0?void 0:d.toLocaleLowerCase();return _==="*"||_===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof p=="object"&&"ids"in p){const x=p.data,{schema:y,table:w,commit_timestamp:g,type:d,errors:m}=x;p=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:g,eventType:d,new:{},old:{},errors:m}),this._getPayloadRecords(x))}v.callback(p,n)})}_isClosed(){return this.state===ne.closed}_isJoined(){return this.state===ne.joined}_isJoining(){return this.state===ne.joining}_isLeaving(){return this.state===ne.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Zl.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Je.close,{},e)}_onError(e){this._on(Je.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ne.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Dc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Dc(e.columns,e.old_record)),r}}const Io=()=>{},Bs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},jy=[1e3,2e3,5e3,1e4],ky=1e4,Ey=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ny{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ma,this.transport=null,this.heartbeatIntervalMs=Bs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Io,this.ref=0,this.reconnectTimer=null,this.logger=Io,this.conn=null,this.sendBuffer=[],this.serializer=new vy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>cn(async()=>{const{default:a}=await Promise.resolve().then(()=>mr);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Fa.websocket}`,this.httpEndpoint=jp(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dy.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:py}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Dn.connecting:return er.Connecting;case Dn.open:return er.Open;case Dn.closing:return er.Closing;default:return er.Closed}}isConnected(){return this.connectionState()===er.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Zl(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(my,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Bs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Je.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Ey],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:fy};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Je.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new bp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,u,c,h;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Ma,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Bs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Io,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:f=>jy[f-1]||ky,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(f,p)=>p(JSON.stringify(f)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class eu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function K(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Cy extends eu{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Wa extends eu{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const tu=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>cn(async()=>{const{default:n}=await Promise.resolve().then(()=>mr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Py=()=>T(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cn(()=>Promise.resolve().then(()=>mr),void 0)).Response:Response}),Ha=t=>{if(Array.isArray(t))return t.map(r=>Ha(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Ha(n)}),e},Oy=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Do=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ty=(t,e,r)=>T(void 0,void 0,void 0,function*(){const n=yield Py();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Cy(Do(s),i,o))}).catch(s=>{e(new Wa(Do(s),s))}):e(new Wa(Do(t),t))}),Ry=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(Oy(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function fs(t,e,r,n,s,i){return T(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Ry(e,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>Ty(u,a,n))})})}function is(t,e,r,n){return T(this,void 0,void 0,function*(){return fs(t,"GET",e,r,n)})}function Ke(t,e,r,n,s){return T(this,void 0,void 0,function*(){return fs(t,"POST",e,n,s,r)})}function qa(t,e,r,n,s){return T(this,void 0,void 0,function*(){return fs(t,"PUT",e,n,s,r)})}function Ay(t,e,r,n){return T(this,void 0,void 0,function*(){return fs(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function ru(t,e,r,n,s){return T(this,void 0,void 0,function*(){return fs(t,"DELETE",e,n,s,r)})}class Iy{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return T(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(K(e))return{data:null,error:e};throw e}})}}var kp;class Dy{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[kp]="BlobDownloadBuilder",this.promise=null}asStream(){return new Iy(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return T(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(K(e))return{data:null,error:e};throw e}})}}kp=Symbol.toStringTag;const Ly={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Uc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $y{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=tu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return T(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Uc),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),h=this._getFinalPath(c),f=yield(e=="PUT"?qa:Ke)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(K(i))return{data:null,error:i};throw i}})}upload(e,r,n){return T(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return T(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:Uc.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const f=yield qa(this.fetch,a.toString(),u,{headers:h});return{data:{path:i,fullPath:f.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(K(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return T(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ke(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new eu("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(K(n))return{data:null,error:n};throw n}})}update(e,r,n){return T(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return T(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(K(s))return{data:null,error:s};throw s}})}copy(e,r,n){return T(this,void 0,void 0,function*(){try{return{data:{path:(yield Ke(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(K(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return T(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ke(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(K(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return T(this,void 0,void 0,function*(){try{const s=yield Ke(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(K(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),u=()=>is(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new Dy(u,this.shouldThrowOnError)}info(e){return T(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield is(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ha(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(K(n))return{data:null,error:n};throw n}})}exists(e){return T(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Ay(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(K(n)&&n instanceof Wa){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return T(this,void 0,void 0,function*(){try{return{data:yield ru(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(K(r))return{data:null,error:r};throw r}})}list(e,r,n){return T(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Ly),r),{prefix:e||""});return{data:yield Ke(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(K(s))return{data:null,error:s};throw s}})}listV2(e,r){return T(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ke(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(K(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Ep="2.77.0",Np={"X-Client-Info":`storage-js/${Ep}`};class Uy{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Np),r),this.fetch=tu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return T(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield is(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(K(r))return{data:null,error:r};throw r}})}getBucket(e){return T(this,void 0,void 0,function*(){try{return{data:yield is(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(K(r))return{data:null,error:r};throw r}})}createBucket(e){return T(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ke(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(K(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return T(this,void 0,void 0,function*(){try{return{data:yield qa(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(K(n))return{data:null,error:n};throw n}})}emptyBucket(e){return T(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(K(r))return{data:null,error:r};throw r}})}deleteBucket(e){return T(this,void 0,void 0,function*(){try{return{data:yield ru(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(K(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class By{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Np),r),this.fetch=tu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return T(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(K(r))return{data:null,error:r};throw r}})}listBuckets(e){return T(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield is(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(K(r))return{data:null,error:r};throw r}})}deleteBucket(e){return T(this,void 0,void 0,function*(){try{return{data:yield ru(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(K(r))return{data:null,error:r};throw r}})}}const nu={"X-Client-Info":`storage-js/${Ep}`,"Content-Type":"application/json"};class Cp extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ce(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Lo extends Cp{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zy extends Cp{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Bc;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Bc||(Bc={}));const su=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>cn(async()=>{const{default:n}=await Promise.resolve().then(()=>mr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},My=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},zc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Fy=(t,e,r)=>T(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Lo(zc(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Lo(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Lo(a,s,o))}}else e(new zy(zc(t),t))}),Vy=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(My(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function Wy(t,e,r,n,s,i){return T(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Vy(e,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;const c=u.headers.get("content-type");return!c||!c.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>Fy(u,a,n))})})}function Pe(t,e,r,n,s){return T(this,void 0,void 0,function*(){return Wy(t,"POST",e,n,s,r)})}class Hy{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nu),r),this.fetch=su(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return T(this,void 0,void 0,function*(){try{return{data:(yield Pe(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}getIndex(e,r){return T(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}})}listIndexes(e){return T(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return T(this,void 0,void 0,function*(){try{return{data:(yield Pe(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}})}}class qy{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nu),r),this.fetch=su(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return T(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Pe(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}getVectors(e){return T(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}listVectors(e){return T(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Pe(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}queryVectors(e){return T(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}deleteVectors(e){return T(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Pe(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}}class Ky{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nu),r),this.fetch=su(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return T(this,void 0,void 0,function*(){try{return{data:(yield Pe(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}getBucket(e){return T(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}listBuckets(){return T(this,arguments,void 0,function*(e={}){try{return{data:yield Pe(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}deleteBucket(e){return T(this,void 0,void 0,function*(){try{return{data:(yield Pe(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}}class Gy extends Ky{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Jy(this.url,this.headers,e,this.fetch)}}class Jy extends Hy{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return T(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return T(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return T(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return T(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Qy(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Qy extends qy{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return T(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return T(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return T(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return T(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return T(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Yy extends Uy{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new $y(this.url,this.headers,e,this.fetch)}get vectors(){return new Gy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new By(this.url+"/iceberg",this.headers,this.fetch)}}const Xy="2.77.0";let kn="";typeof Deno<"u"?kn="deno":typeof document<"u"?kn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kn="react-native":kn="node";const Zy={"X-Client-Info":`supabase-js-${kn}/${Xy}`},ew={headers:Zy},tw={schema:"public"},rw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nw={},sw=t=>{let e;return t?e=t:typeof fetch>"u"?e=np:e=fetch,(...r)=>e(...r)},iw=()=>typeof Headers>"u"?sp:Headers,ow=(t,e,r)=>{const n=sw(r),s=iw();return async(i,o)=>{var a;const u=(a=await e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},o),{headers:c}))}};function aw(t){return t.endsWith("/")?t:t+"/"}function lw(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:u,auth:c,realtime:h,global:f}=e,p={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function uw(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(aw(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Pp="2.77.0",kr=30*1e3,Ka=3,$o=Ka*kr,cw="http://localhost:9999",dw="supabase.auth.token",hw={"X-Client-Info":`gotrue-js/${Pp}`},Ga="X-Supabase-Api-Version",Op={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pw=10*60*1e3;class os extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function R(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class mw extends os{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function gw(t){return R(t)&&t.name==="AuthApiError"}class tr extends os{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ht extends os{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class xt extends Ht{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vw(t){return R(t)&&t.name==="AuthSessionMissingError"}class wr extends Ht{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zs extends Ht{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ms extends Ht{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yw(t){return R(t)&&t.name==="AuthImplicitGrantRedirectError"}class Mc extends Ht{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ja extends Ht{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Uo(t){return R(t)&&t.name==="AuthRetryableFetchError"}class Fc extends Ht{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Qa extends Ht{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vc=` 	
\r=`.split(""),ww=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Vc.length;e+=1)t[Vc[e].charCodeAt(0)]=-2;for(let e=0;e<Pi.length;e+=1)t[Pi[e].charCodeAt(0)]=e;return t})();function Wc(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Pi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Pi[n]),e.queuedBits-=6}}function Tp(t,e,r){const n=ww[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Hc(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{bw(o,n,r)};for(let o=0;o<t.length;o+=1)Tp(t.charCodeAt(o),s,i);return e.join("")}function xw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function _w(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}xw(n,e)}}function bw(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Hr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Tp(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Sw(t){const e=[];return _w(t,r=>e.push(r)),new Uint8Array(e)}function ir(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Wc(s,r,n)),Wc(null,r,n),e.join("")}function jw(t){return Math.round(Date.now()/1e3)+t}function kw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ee=()=>typeof window<"u"&&typeof document<"u",Gt={tested:!1,writable:!1},Rp=()=>{if(!Ee())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gt.tested)return Gt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Gt.tested=!0,Gt.writable=!0}catch{Gt.tested=!0,Gt.writable=!1}return Gt.writable};function Ew(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Ap=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>cn(async()=>{const{default:n}=await Promise.resolve().then(()=>mr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Nw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Er=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Jt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},wt=async(t,e)=>{await t.removeItem(e)};class Zi{constructor(){this.promise=new Zi.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Zi.promiseConstructor=Promise;function Bo(t){const e=t.split(".");if(e.length!==3)throw new Qa("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!fw.test(e[n]))throw new Qa("JWT not in base64url format");return{header:JSON.parse(Hc(e[0])),payload:JSON.parse(Hc(e[1])),signature:Hr(e[2]),raw:{header:e[0],payload:e[1]}}}async function Cw(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Pw(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Ow(t){return("0"+t.toString(16)).substr(-2)}function Tw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Ow).join("")}async function Rw(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Aw(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Rw(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xr(t,e,r=!1){const n=Tw();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Er(t,`${e}-code-verifier`,s);const i=await Aw(n);return[i,n===i?"plain":"s256"]}const Iw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Dw(t){const e=t.headers.get(Ga);if(!e||!e.match(Iw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Lw(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function $w(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Uw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _r(t){if(!Uw.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zo(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qc(t){return JSON.parse(JSON.stringify(t))}const Zt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Bw=[502,503,504];async function Kc(t){var e;if(!Nw(t))throw new Ja(Zt(t),0);if(Bw.includes(t.status))throw new Ja(Zt(t),t.status);let r;try{r=await t.json()}catch(i){throw new tr(Zt(i),i)}let n;const s=Dw(t);if(s&&s.getTime()>=Op["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Fc(Zt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new xt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Fc(Zt(r),t.status,r.weak_password.reasons);throw new mw(Zt(r),t.status||500,n)}const zw=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function A(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ga]||(i[Ga]=Op["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await Mw(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function Mw(t,e,r,n,s,i){const o=zw(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(u){throw console.error(u),new Ja(Zt(u),0)}if(a.ok||await Kc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(u){await Kc(u)}}function He(t){var e;let r=null;Ww(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=jw(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Gc(t){const e=He(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function kt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Fw(t){return{data:t,error:null}}function Vw(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=un(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function Jc(t){return t}function Ww(t){return t.access_token&&t.refresh_token&&t.expires_in}const Mo=["global","local","others"];class Hw{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Ap(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Mo[0]){if(Mo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mo.join(", ")}`);try{return await A(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await A(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:kt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=un(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Vw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(R(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await A(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:kt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},h=await A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Jc});if(h.error)throw h.error;const f=await h.json(),p=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);c[`${w}Page`]=y}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(R(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){_r(e);try{return await A(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:kt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){_r(e);try{return await A(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:kt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){_r(e);try{return await A(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:kt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){_r(e.userId);try{const{data:r,error:n}=await A(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _deleteFactor(e){_r(e.userId),_r(e.id);try{return{data:await A(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},h=await A(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Jc});if(h.error)throw h.error;const f=await h.json(),p=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);c[`${w}Page`]=y}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(R(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await A(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await A(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await A(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await A(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}}function Qc(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const br={debug:!!(globalThis&&Rp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ip extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qw extends Ip{}async function Kw(t,e,r){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),br.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{br.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw br.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new qw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(br.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Gw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Dp(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Jw(t){return parseInt(t,16)}function Qw(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Yw(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:u,resources:c,scheme:h,uri:f,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=Dp(t.address),x=h?`${h}://${n}`:n,y=t.statement?`${t.statement}
`:"",w=`${x} wants you to sign in with your Ethereum account:
${v}

${y}`;let g=`URI: ${f}
Version: ${p}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),u&&(g+=`
Request ID: ${u}`),c){let d=`
Resources:`;for(const m of c){if(!m||typeof m!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${m}`);d+=`
- ${m}`}g+=d}return`${w}
${g}`}class te extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Oi extends te{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Xw({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new te({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new te({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new te({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new te({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new te({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new te({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new te({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new te({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Lp(o)){if(i.rp.id!==o)return new te({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new te({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new te({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Zw({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new te({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new te({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Lp(n)){if(r.rpId!==n)return new te({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new te({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class ex{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const tx=new ex;function rx(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=un(t,["challenge","user","excludeCredentials"]),i=Hr(e).buffer,o=Object.assign(Object.assign({},r),{id:Hr(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];a.excludeCredentials[u]=Object.assign(Object.assign({},c),{id:Hr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function nx(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=un(t,["challenge","allowCredentials"]),s=Hr(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Hr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function sx(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:ir(new Uint8Array(t.response.attestationObject)),clientDataJSON:ir(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ix(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ir(new Uint8Array(s.authenticatorData)),clientDataJSON:ir(new Uint8Array(s.clientDataJSON)),signature:ir(new Uint8Array(s.signature)),userHandle:s.userHandle?ir(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Lp(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Yc(){var t,e;return!!(Ee()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function ox(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Oi("Browser returned unexpected credential type",e)}:{data:null,error:new Oi("Empty credential response",e)}}catch(e){return{data:null,error:Xw({error:e,options:t})}}}async function ax(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Oi("Browser returned unexpected credential type",e)}:{data:null,error:new Oi("Empty credential response",e)}}catch(e){return{data:null,error:Zw({error:e,options:t})}}}const lx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},ux={userVerification:"preferred",hints:["security-key"]};function Ti(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Ti(a,o):n[i]=Ti(o)}else n[i]=o}return n}function cx(t,e){return Ti(lx,t,e||{})}function dx(t,e){return Ti(ux,t,e||{})}class hx{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const u=s??tx.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=cx(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:f}=await ox({publicKey:c,signal:u});return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const c=dx(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:f}=await ax(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:u}));return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new tr("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!r)return{data:null,error:new os("rpId is required for WebAuthn authentication")};try{if(!Yc())return{data:null,error:new tr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:u}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new tr("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!r)return{data:null,error:new os("rpId is required for WebAuthn registration")};try{if(!Yc())return{data:null,error:new tr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:a};const{data:u,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:c}}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new tr("Unexpected error in register",o)}}}}Gw();const fx={url:cw,storageKey:dw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Xc(t,e,r){return await r()}const Sr={};class as{get jwks(){var e,r;return(r=(e=Sr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Sr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=as.nextInstanceID,as.nextInstanceID+=1,this.instanceID>0&&Ee()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},fx),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Hw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ap(s.fetch),this.lock=s.lock||Xc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ee()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Kw:this.lock=Xc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new hx(this)},this.persistSession?(s.storage?this.storage=s.storage:Rp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Qc(this.memoryStorage)),Ee()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Pp}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Ew(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ee()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),yw(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return R(r)?{error:r}:{error:new tr("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:He}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:h,password:f,options:p}=e;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await xr(this.storage,this.storageKey)),i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:h,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:x},xform:He})}else if("phone"in e){const{phone:h,password:f,options:p}=e;i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:He})}else throw new zs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Gc})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Gc})}else throw new zs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new wr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,u,c,h,f,p;let v,x;if("message"in e)v=e.message,x=e.signature;else{const{chain:y,wallet:w,statement:g,options:d}=e;let m;if(Ee())if(typeof w=="object")m=w;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")m=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(d!=null&&d.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=w}const _=new URL((r=d==null?void 0:d.url)!==null&&r!==void 0?r:window.location.href),b=await m.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||b.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=Dp(b[0]);let E=(n=d==null?void 0:d.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const D=await m.request({method:"eth_chainId"});E=Jw(D)}const C={domain:_.host,address:j,statement:g,uri:_.href,version:"1",chainId:E,nonce:(s=d==null?void 0:d.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=d==null?void 0:d.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=d==null?void 0:d.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(u=d==null?void 0:d.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(c=d==null?void 0:d.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(h=d==null?void 0:d.signInWithEthereum)===null||h===void 0?void 0:h.resources};v=Yw(C),x=await m.request({method:"personal_sign",params:[Qw(v),j]})}try{const{data:y,error:w}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:x},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:He});if(w)throw w;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new wr}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:w})}catch(y){if(R(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var r,n,s,i,o,a,u,c,h,f,p,v;let x,y;if("message"in e)x=e.message,y=e.signature;else{const{chain:w,wallet:g,statement:d,options:m}=e;let _;if(Ee())if(typeof g=="object")_=g;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const b=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),d?{statement:d}:null));let E;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")E=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)E=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)x=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),y=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${b.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...d?["",d,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((f=(h=m==null?void 0:m.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...m.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(x),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=j}}try{const{data:w,error:g}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:ir(y)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:He});if(g)throw g;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new wr}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:g})}catch(w){if(R(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const r=await Jt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:He});if(await wt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new wr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(R(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:He}),{data:u,error:c}=a;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new wr}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:u}=e;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await xr(this.storage,this.storageKey));const{error:f}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:u}=e,{data:c,error:h}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new zs("You must provide either an email or phone number.")}catch(a){if(R(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:He});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(R(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await xr(this.storage,this.storageKey)),await A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Fw})}catch(i){if(R(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new xt;const{error:s}=await A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(R(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await A(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await A(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new zs("You must provide either an email or phone number and a type")}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Jt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<$o:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Jt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=zo()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,c,h)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,h))})}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:kt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xt}:await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:kt})})}catch(r){if(R(r))return vw(r)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new xt;const o=s.session;let a=null,u=null;this.flowType==="pkce"&&e.email!=null&&([a,u]=await xr(this.storage,this.storageKey));const{data:c,error:h}=await A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:kt});if(h)throw h;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new xt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Bo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(R(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new xt;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ee())throw new Ms("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ms(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Mc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ms("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Mc("No code detected.");const{data:d,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:d.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:u,token_type:c}=e;if(!i||!a||!o||!c)throw new Ms("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(a);let p=h+f;u&&(p=parseInt(u));const v=p-h;v*1e3<=kr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const x=p-f;h-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,p,h):h-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,p,h);const{data:y,error:w}=await this._getUser(i);if(w)throw w;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:p,refresh_token:o,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(R(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Jt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(gw(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=kw(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await xr(this.storage,this.storageKey,!0));try{return await A(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(R(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,u,c,h;const{data:f,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await A(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return Ee()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(R(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:u,access_token:c,nonce:h}=e,f=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:u,access_token:c,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:He}),{data:p,error:v}=f;return v?{data:{user:null,session:null},error:v}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new wr}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),{data:p,error:v})}catch(s){if(R(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await A(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Pw(async s=>(s>0&&await Cw(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:He})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Uo(i)&&Date.now()+o-n<kr})}catch(n){if(this._debug(r,"error",n),R(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ee()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Jt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Jt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Er(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:zo()}else if(s&&!s.user&&!s.user){const o=await Jt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await wt(this.storage,this.storageKey+"-user"),await Er(this.storage,this.storageKey,s)):s.user=zo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<$o;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${$o}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Uo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Zi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new xt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),R(i)){const o={data:null,error:i};return Uo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Er(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=qc(s);await Er(this.storage,this.storageKey,i)}else{const s=qc(r);await Er(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ee()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),kr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/kr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${kr}ms, refresh threshold is ${Ka} ticks`),s<=Ka&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ip)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ee()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await xr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await A(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:c}=await A(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&u.type==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?sx(e.webauthn.credential_response):ix(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:u}=await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:u})})}catch(r){if(R(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:rx(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:nx(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(R(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Bo(s.access_token);let a=null;o.aal&&(a=o.aal);let u=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const h=o.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+pw>s)return n;const{data:i,error:o}=await A(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return{data:null,error:x};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:u}}=Bo(n);r!=null&&r.allowExpired||Lw(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const h=$w(s.alg),f=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,o,Sw(`${a}.${u}`)))throw new Qa("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}}as.nextInstanceID=0;const px=as;class mx extends px{constructor(e){super(e)}}class gx{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=uw(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:tw,realtime:nw,auth:Object.assign(Object.assign({},rw),{storageKey:u}),global:ew},h=lw(n??{},c);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=ow(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new cy(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Yy(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new ry(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:u,debug:c},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mx({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:u,debug:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ny(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vx=(t,e,r)=>new gx(t,e,r);function yx(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}yx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wx="https://mksciuijdjyuijnyuzqb.supabase.co",xx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1rc2NpdWlqZGp5dWlqbnl1enFiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE3MTA2NjMsImV4cCI6MjA3NzI4NjY2M30.uyKMw9UaXWU9VIiyUPksoGYxavViAa2SFw1jwgUEXmQ",B=vx(wx,xx);class _x{async log(e){try{await B.from("audit_logs").insert({user_id:e.user_id||null,role_name:e.role_name||null,action:e.action,resource_type:e.resource_type||null,resource_id:e.resource_id||null,module_name:e.module_name||null,status_code:e.status_code||200,success:e.success,ip_address:e.ip_address||null,user_agent:e.user_agent||navigator.userAgent,request_method:e.request_method||null,request_path:e.request_path||window.location.pathname,response_time:e.response_time||null,details:e.details||null})}catch(r){console.error("Failed to log audit entry:",r)}}}const Le=new _x;class bx{constructor(){vr(this,"currentUser",null)}async signUp(e){try{const{data:r,error:n}=await B.from("roles").select("role_id").eq("role_name",e.role_name).maybeSingle();if(n||!r)return{user:null,error:"Invalid role"};const s=await this.hashPassword(e.password),{data:i,error:o}=await B.from("users").insert({email:e.email,password_hash:s,full_name:e.full_name,role_id:r.role_id,team_id:e.team_id||null,mfa_enabled:!1,is_active:!0}).select().single();return o?{user:null,error:o.message}:(await Le.log({user_id:i.user_id,role_name:e.role_name,action:"USER_SIGNUP",resource_type:"user",resource_id:i.user_id,success:!0,details:{email:e.email}}),{user:{user_id:i.user_id,email:i.email,full_name:i.full_name,role_id:i.role_id,role_name:e.role_name,team_id:i.team_id,mfa_enabled:i.mfa_enabled,is_active:i.is_active},error:null})}catch(r){return{user:null,error:r.message}}}async signIn(e,r){var n,s;try{const{data:i,error:o}=await B.auth.signInWithPassword({email:e,password:r});if(o||!i.user)return await Le.log({user_id:null,role_name:null,action:"LOGIN_FAILED",success:!1,details:{email:e,reason:(o==null?void 0:o.message)||"Authentication failed"}}),{session:null,error:"Invalid credentials"};const{data:a,error:u}=await B.from("users").select(`
          *,
          roles (role_name, can_approve, data_scope)
        `).eq("user_id",i.user.id).eq("is_active",!0).maybeSingle();if(u||!a)return await Le.log({user_id:i.user.id,role_name:null,action:"LOGIN_FAILED",success:!1,details:{email:e,reason:"User not found or inactive"}}),{session:null,error:"User account not found"};const c=((n=i.session)==null?void 0:n.access_token)||this.generateToken(),h=(s=i.session)!=null&&s.expires_at?new Date(i.session.expires_at*1e3).toISOString():new Date(Date.now()+30*60*1e3).toISOString();await B.from("users").update({last_login:new Date().toISOString()}).eq("user_id",a.user_id),await Le.log({user_id:a.user_id,role_name:a.roles.role_name,action:"LOGIN_SUCCESS",resource_type:"session",success:!0,details:{email:e}});const f={user_id:a.user_id,email:a.email,full_name:a.full_name,role_id:a.role_id,role_name:a.roles.role_name,team_id:a.team_id,mfa_enabled:a.mfa_enabled,is_active:a.is_active};return this.currentUser=f,{session:{user:f,token:c,expires_at:h},error:null}}catch(i){return{session:null,error:i.message}}}async signOut(){this.currentUser&&await Le.log({user_id:this.currentUser.user_id,role_name:this.currentUser.role_name,action:"LOGOUT",success:!0}),await B.auth.signOut(),this.currentUser=null}getCurrentUser(){return this.currentUser}async verifySession(e){try{const r=await this.hashPassword(e),{data:n}=await B.from("user_sessions").select(`
          *,
          users (
            *,
            roles (role_name, can_approve, data_scope)
          )
        `).eq("token_hash",r).gt("expires_at",new Date().toISOString()).maybeSingle();if(!n)return null;await B.from("user_sessions").update({last_activity:new Date().toISOString()}).eq("session_id",n.session_id);const s=n.users;return this.currentUser={user_id:s.user_id,email:s.email,full_name:s.full_name,role_id:s.role_id,role_name:s.roles.role_name,team_id:s.team_id,mfa_enabled:s.mfa_enabled,is_active:s.is_active},this.currentUser}catch{return null}}async hashPassword(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(s)).map(a=>a.toString(16).padStart(2,"0")).join("")}generateToken(){const e=new Uint8Array(32);return crypto.getRandomValues(e),Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}}const Zc=new bx,Ae=Fv()(Gv(t=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,signIn:async(e,r)=>{t({isLoading:!0,error:null});try{const n=await Zc.signIn(e,r);if(n.error){t({error:n.error,isLoading:!1});return}t({user:n.session.user,token:n.session.token,isAuthenticated:!0,isLoading:!1,error:null})}catch(n){t({error:n.message,isLoading:!1})}},signOut:async()=>{await Zc.signOut(),t({user:null,token:null,isAuthenticated:!1,error:null})},checkSession:async()=>{try{const{data:{session:e},error:r}=await B.auth.getSession();if(r||!e){t({user:null,token:null,isAuthenticated:!1});return}const{data:n}=await B.from("users").select(`
              *,
              roles (role_name, can_approve, data_scope)
            `).eq("user_id",e.user.id).maybeSingle();if(n){const s={user_id:n.user_id,email:n.email,full_name:n.full_name,role_id:n.role_id,role_name:n.roles.role_name,team_id:n.team_id,mfa_enabled:n.mfa_enabled,is_active:n.is_active};t({user:s,token:e.access_token,isAuthenticated:!0})}else t({user:null,token:null,isAuthenticated:!1})}catch{t({user:null,token:null,isAuthenticated:!1})}}}),{name:"nova-grc-auth",partialize:t=>({user:t.user,token:t.token,isAuthenticated:t.isAuthenticated})})),Sx=[{role:"Compliance Officer",email:"officer@demo.com",bgClass:"bg-blue-50 hover:bg-blue-100 border-blue-300",textClass:"text-blue-900",emailClass:"text-blue-700"},{role:"Compliance Manager",email:"manager@demo.com",bgClass:"bg-green-50 hover:bg-green-100 border-green-300",textClass:"text-green-900",emailClass:"text-green-700"},{role:"CCO",email:"cco@demo.com",bgClass:"bg-purple-50 hover:bg-purple-100 border-purple-300",textClass:"text-purple-900",emailClass:"text-purple-700"},{role:"System Admin",email:"admin@demo.com",bgClass:"bg-gray-50 hover:bg-gray-100 border-gray-300",textClass:"text-gray-900",emailClass:"text-gray-700"},{role:"ML Engineer",email:"mlengineer@demo.com",bgClass:"bg-yellow-50 hover:bg-yellow-100 border-yellow-300",textClass:"text-yellow-900",emailClass:"text-yellow-700"},{role:"CISO",email:"ciso@demo.com",bgClass:"bg-red-50 hover:bg-red-100 border-red-300",textClass:"text-red-900",emailClass:"text-red-700"},{role:"Internal Auditor",email:"auditor@demo.com",bgClass:"bg-indigo-50 hover:bg-indigo-100 border-indigo-300",textClass:"text-indigo-900",emailClass:"text-indigo-700"},{role:"DPO",email:"dpo@demo.com",bgClass:"bg-pink-50 hover:bg-pink-100 border-pink-300",textClass:"text-pink-900",emailClass:"text-pink-700"},{role:"External Auditor",email:"external@demo.com",bgClass:"bg-orange-50 hover:bg-orange-100 border-orange-300",textClass:"text-orange-900",emailClass:"text-orange-700"}];function jx(){const[t,e]=S.useState(""),[r,n]=S.useState(""),{signIn:s,isLoading:i,error:o,isAuthenticated:a}=Ae(),u=Ji();if(a)return l.jsx(Qi,{to:"/dashboard",replace:!0});const c=async f=>{f.preventDefault(),await s(t,r),Ae.getState().isAuthenticated&&u("/dashboard")},h=f=>{e(f),n("demo123")};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsx("div",{children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto h-16 w-16 flex items-center justify-center rounded-full bg-blue-600",children:l.jsx("svg",{className:"h-10 w-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),l.jsx("h2",{className:"mt-6 text-4xl font-extrabold text-gray-900",children:"NOVA-GRC"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"AI-First Banking Compliance Platform"})]})}),l.jsxs("div",{className:"bg-white py-8 px-6 shadow-xl rounded-lg",children:[l.jsxs("form",{className:"space-y-6",onSubmit:c,children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),l.jsx("div",{className:"mt-1",children:l.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:f=>e(f.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 text-gray-900 bg-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"officer@bank.com"})})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),l.jsx("div",{className:"mt-1",children:l.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:f=>n(f.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 text-gray-900 bg-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})})]}),o&&l.jsx("div",{className:"rounded-md bg-red-50 p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm font-medium text-red-800",children:o})})]})}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Signing in...":"Sign in"})})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-300"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Demo Credentials"})})]}),l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Click any role to auto-fill credentials (Password: demo123):"}),l.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Sx.map(f=>l.jsxs("button",{type:"button",onClick:()=>h(f.email),className:`${f.bgClass} p-2 rounded text-left transition-colors cursor-pointer border-2 border-transparent hover:border-opacity-100`,children:[l.jsx("strong",{className:f.textClass,children:f.role}),l.jsx("p",{className:f.emailClass,children:f.email})]},f.email))}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"+ 2 more users for testing team segregation (officer2@demo.com, manager2@demo.com)"})]})]})]}),l.jsxs("div",{className:"text-center text-xs text-gray-500",children:[l.jsx("p",{children:"Protected by Role-Based Access Control (RBAC)"}),l.jsx("p",{className:"mt-1",children:"Sprint 1 - Foundation Implementation"})]})]})})}const kx={compliance_officer:{canUploadDocuments:!0,canViewOwnDocuments:!0,canViewTeamDocuments:!1,canViewAllDocuments:!1,canProcessDocuments:!0,canApproveDocuments:!1,canRejectDocuments:!1,canReassignDocuments:!1,canProvideReviewFeedback:!0,canOverrideAI:!1,canBulkProcess:!1,canViewAnalytics:!0,canExportReports:!1,canSearchDocuments:!0,canViewOwnAuditLogs:!0,canViewTeamAuditLogs:!1,canViewAllAuditLogs:!1},compliance_manager:{canUploadDocuments:!0,canViewOwnDocuments:!0,canViewTeamDocuments:!0,canViewAllDocuments:!1,canProcessDocuments:!0,canApproveDocuments:!0,canRejectDocuments:!0,canReassignDocuments:!0,canProvideReviewFeedback:!0,canOverrideAI:!0,canBulkProcess:!0,canViewAnalytics:!0,canExportReports:!0,canSearchDocuments:!0,canViewOwnAuditLogs:!0,canViewTeamAuditLogs:!0,canViewAllAuditLogs:!1},cco:{canUploadDocuments:!1,canViewOwnDocuments:!0,canViewTeamDocuments:!0,canViewAllDocuments:!0,canProcessDocuments:!0,canApproveDocuments:!1,canRejectDocuments:!1,canReassignDocuments:!1,canProvideReviewFeedback:!0,canOverrideAI:!0,canBulkProcess:!0,canViewAnalytics:!0,canExportReports:!0,canSearchDocuments:!0,canViewOwnAuditLogs:!0,canViewTeamAuditLogs:!0,canViewAllAuditLogs:!0},ciso:{canUploadDocuments:!1,canViewOwnDocuments:!1,canViewTeamDocuments:!1,canViewAllDocuments:!0,canProcessDocuments:!0,canApproveDocuments:!1,canRejectDocuments:!1,canReassignDocuments:!1,canProvideReviewFeedback:!1,canOverrideAI:!1,canBulkProcess:!1,canViewAnalytics:!0,canExportReports:!0,canSearchDocuments:!0,canViewOwnAuditLogs:!0,canViewTeamAuditLogs:!0,canViewAllAuditLogs:!0},system_admin:{canUploadDocuments:!1,canViewOwnDocuments:!1,canViewTeamDocuments:!1,canViewAllDocuments:!1,canProcessDocuments:!1,canApproveDocuments:!1,canRejectDocuments:!1,canReassignDocuments:!1,canProvideReviewFeedback:!1,canOverrideAI:!1,canBulkProcess:!1,canViewAnalytics:!1,canExportReports:!1,canSearchDocuments:!1,canViewOwnAuditLogs:!1,canViewTeamAuditLogs:!1,canViewAllAuditLogs:!1},ml_engineer:{canUploadDocuments:!1,canViewOwnDocuments:!1,canViewTeamDocuments:!1,canViewAllDocuments:!1,canProcessDocuments:!1,canApproveDocuments:!1,canRejectDocuments:!1,canReassignDocuments:!1,canProvideReviewFeedback:!1,canOverrideAI:!1,canBulkProcess:!1,canViewAnalytics:!1,canExportReports:!1,canSearchDocuments:!1,canViewOwnAuditLogs:!1,canViewTeamAuditLogs:!1,canViewAllAuditLogs:!1},internal_auditor:{canUploadDocuments:!1,canViewOwnDocuments:!0,canViewTeamDocuments:!0,canViewAllDocuments:!0,canProcessDocuments:!0,canApproveDocuments:!1,canRejectDocuments:!1,canReassignDocuments:!1,canProvideReviewFeedback:!1,canOverrideAI:!1,canBulkProcess:!1,canViewAnalytics:!0,canExportReports:!0,canSearchDocuments:!0,canViewOwnAuditLogs:!0,canViewTeamAuditLogs:!0,canViewAllAuditLogs:!0},dpo:{canUploadDocuments:!1,canViewOwnDocuments:!1,canViewTeamDocuments:!1,canViewAllDocuments:!0,canProcessDocuments:!1,canApproveDocuments:!1,canRejectDocuments:!1,canReassignDocuments:!1,canProvideReviewFeedback:!1,canOverrideAI:!1,canBulkProcess:!1,canViewAnalytics:!0,canExportReports:!0,canSearchDocuments:!0,canViewOwnAuditLogs:!0,canViewTeamAuditLogs:!1,canViewAllAuditLogs:!0},external_auditor:{canUploadDocuments:!1,canViewOwnDocuments:!1,canViewTeamDocuments:!1,canViewAllDocuments:!0,canProcessDocuments:!0,canApproveDocuments:!1,canRejectDocuments:!1,canReassignDocuments:!1,canProvideReviewFeedback:!1,canOverrideAI:!1,canBulkProcess:!1,canViewAnalytics:!0,canExportReports:!0,canSearchDocuments:!0,canViewOwnAuditLogs:!1,canViewTeamAuditLogs:!1,canViewAllAuditLogs:!0}};function Ex(t){return kx[t]}const Nx=[{path:"/dashboard",label:"Dashboard",allowedRoles:["compliance_officer","compliance_manager","cco","ciso","system_admin","ml_engineer","internal_auditor","dpo","external_auditor"]},{path:"/upload",label:"Upload",allowedRoles:["compliance_officer","compliance_manager"]},{path:"/processing",label:"Processing",allowedRoles:["compliance_officer","compliance_manager","cco","ciso","external_auditor"]},{path:"/review",label:"Review",allowedRoles:["compliance_officer","compliance_manager","cco"]},{path:"/search",label:"Search",allowedRoles:["compliance_officer","compliance_manager","cco","ciso","internal_auditor","dpo","external_auditor"]},{path:"/analytics",label:"Analytics",allowedRoles:["compliance_officer","compliance_manager","cco","ciso","internal_auditor","dpo","external_auditor"]},{path:"/bulk",label:"Bulk",allowedRoles:["compliance_manager","cco"]}];function Cx(t){return Nx.filter(e=>e.allowedRoles.includes(t))}const Px={compliance_officer:"bg-blue-100 text-blue-800 border-blue-300",compliance_manager:"bg-green-100 text-green-800 border-green-300",cco:"bg-purple-100 text-purple-800 border-purple-300",ciso:"bg-red-100 text-red-800 border-red-300",system_admin:"bg-gray-100 text-gray-800 border-gray-300",ml_engineer:"bg-yellow-100 text-yellow-800 border-yellow-300",internal_auditor:"bg-indigo-100 text-indigo-800 border-indigo-300",dpo:"bg-pink-100 text-pink-800 border-pink-300",external_auditor:"bg-orange-100 text-orange-800 border-orange-300"},Ox={compliance_officer:"Compliance Officer",compliance_manager:"Compliance Manager",cco:"CCO",ciso:"CISO",system_admin:"System Admin",ml_engineer:"ML Engineer",internal_auditor:"Internal Auditor",dpo:"DPO",external_auditor:"External Auditor"};function Tx({role:t,className:e=""}){return l.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${Px[t]} ${e}`,children:Ox[t]})}function gr(){const{user:t,signOut:e}=Ae(),r=ln();if(!t)return null;const n=Cx(t.role_name);return l.jsx("nav",{className:"bg-white shadow",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between h-16",children:[l.jsxs("div",{className:"flex items-center space-x-8",children:[l.jsxs("div",{className:"flex-shrink-0 flex items-center",children:[l.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-full bg-blue-600",children:l.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"NOVA-GRC"}),l.jsx("p",{className:"text-xs text-gray-500",children:"AI-First Banking Compliance"})]})]}),l.jsx("nav",{className:"flex space-x-4",children:n.map(s=>l.jsx(fv,{to:s.path,className:`px-3 py-2 rounded-md text-sm font-medium ${r.pathname===s.path?"text-gray-900 bg-gray-100":"text-gray-700 hover:bg-gray-100"}`,children:s.label},s.path))})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.full_name}),l.jsx("p",{className:"text-xs text-gray-500",children:t.email})]}),l.jsx(Tx,{role:t.role_name}),l.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700",children:"Sign Out"})]})]})})})}function Rx({documents:t,onDocumentClick:e}){const r=n=>{switch(n){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"processing":return"bg-yellow-100 text-yellow-800";case"needs_review":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return l.jsx("div",{className:"space-y-3",children:t.length===0?l.jsx("div",{className:"text-center py-8 text-gray-500",children:"No documents found"}):t.map(n=>l.jsx("div",{onClick:()=>e==null?void 0:e(n),className:"p-4 border rounded-lg hover:shadow-md transition-shadow cursor-pointer bg-white",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:n.file_name}),l.jsx("p",{className:"text-sm text-gray-600",children:n.document_type}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Uploaded: ",new Date(n.uploaded_at).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-2",children:[l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${r(n.status)}`,children:n.status}),n.ocr_confidence&&l.jsxs("span",{className:"text-xs text-gray-600",children:["Confidence: ",(n.ocr_confidence*100).toFixed(1),"%"]})]})]})},n.document_id))})}function Fs({title:t,value:e,icon:r,trend:n,className:s=""}){return l.jsx("div",{className:`bg-white rounded-lg shadow p-6 ${s}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:t}),l.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:e}),n&&l.jsxs("div",{className:"mt-2 flex items-center",children:[l.jsxs("span",{className:`text-sm font-medium ${n.isPositive?"text-green-600":"text-red-600"}`,children:[n.isPositive?"":""," ",Math.abs(n.value),"%"]}),l.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"vs last month"})]})]}),r&&l.jsx("div",{className:"ml-4 flex-shrink-0",children:l.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600",children:r})})]})})}function Ax(){const{user:t}=Ae(),[e,r]=S.useState({totalDocuments:0,pendingReview:0,approved:0,avgConfidence:0});S.useEffect(()=>{t&&n()},[t]);async function n(){if(t)try{let s=B.from("documents").select("status, ocr_confidence");if(t.role_name==="compliance_officer")s=s.eq("assigned_to",t.user_id);else if(t.role_name==="compliance_manager"){const{data:o}=await B.from("users").select("user_id").eq("team_id",t.team_id);o&&(s=s.in("assigned_to",o.map(a=>a.user_id)))}const{data:i}=await s;if(i){const o=i.length,a=i.filter(f=>f.status==="needs_review"||f.status==="uploaded").length,u=i.filter(f=>f.status==="approved").length,c=i.filter(f=>f.ocr_confidence).map(f=>f.ocr_confidence),h=c.length>0?c.reduce((f,p)=>f+p,0)/c.length:0;r({totalDocuments:o,pendingReview:a,approved:u,avgConfidence:h})}}catch(s){console.error("Error loading stats:",s)}}return t?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(gr,{}),l.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",t.full_name,"!"]}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Here's what's happening with your documents today."})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[l.jsx(Fs,{title:"Total Documents",value:e.totalDocuments}),l.jsx(Fs,{title:"Pending Review",value:e.pendingReview,trend:{value:12,isPositive:!1}}),l.jsx(Fs,{title:"Approved",value:e.approved,trend:{value:8,isPositive:!0}}),l.jsx(Fs,{title:"Avg Confidence",value:`${(e.avgConfidence*100).toFixed(1)}%`})]}),l.jsx(Rx,{documents:[]}),l.jsxs("div",{className:"mt-8 bg-white shadow rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Status"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-green-100 flex items-center justify-center",children:l.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"RBAC Enabled"}),l.jsx("p",{className:"text-xs text-gray-500",children:"9 roles, 24 permissions"})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:l.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Audit Logging"}),l.jsx("p",{className:"text-xs text-gray-500",children:"100% coverage active"})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-purple-100 flex items-center justify-center",children:l.jsx("svg",{className:"h-6 w-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"RLS Active"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Row-level security"})]})]})]})]}),l.jsx("div",{className:"mt-6 bg-blue-50 border-l-4 border-blue-400 p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),l.jsx("div",{className:"ml-3",children:l.jsxs("p",{className:"text-sm text-blue-700",children:[l.jsx("strong",{children:"Sprint 1 Complete:"})," RBAC foundation is fully operational with 11 demo users, 5 sample documents, and complete audit logging. Ready for Sprint 2 AI integration."]})})]})})]})})]}):null}class Ix{constructor(){vr(this,"apiKey");this.apiKey="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"}async generateEmbedding(e){try{const r=await fetch("https://api.openai.com/v1/embeddings",{method:"POST",headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify({model:"text-embedding-3-small",input:e})});if(!r.ok)throw new Error(`OpenAI API error: ${r.statusText}`);return(await r.json()).data[0].embedding}catch(r){throw console.error("Error generating embedding:",r),r}}async classifyDocument(e,r){try{const n=`You are an expert KYC document classifier for banking compliance.

Analyze the following OCR text from a ${r} document and extract:
1. Document type verification (is this really a ${r}?)
2. Key entities (name, document number, dates, address)
3. Quality assessment (is the document readable, complete, valid?)
4. Compliance verdict (APPROVED, REJECTED, NEEDS_REVIEW)

OCR Text:
${e}

Respond in JSON format:
{
  "document_type": "verified type",
  "confidence": 0.0-1.0,
  "extracted_entities": {
    "name": "full name",
    "document_number": "number",
    "date_of_birth": "DOB",
    "issue_date": "issue date",
    "expiry_date": "expiry date",
    "address": "full address"
  },
  "verdict": "APPROVED | REJECTED | NEEDS_REVIEW",
  "reasoning": "detailed explanation"
}`,s=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"system",content:"You are a KYC compliance expert. Respond only with valid JSON."},{role:"user",content:n}],temperature:.3,response_format:{type:"json_object"}})});if(!s.ok)throw new Error(`OpenAI API error: ${s.statusText}`);const o=(await s.json()).choices[0].message.content;if(!o)throw new Error("No response from OpenAI");return JSON.parse(o)}catch(n){throw console.error("Error classifying document:",n),n}}async generateOCRText(e){return{PAN:`INCOME TAX DEPARTMENT
Permanent Account Number Card
Name: RAJESH KUMAR SHARMA
Father Name: MOHAN LAL SHARMA
Date of Birth: 15/08/1985
PAN: ABCDE1234F`,Aadhaar:`GOVERNMENT OF INDIA
Aadhaar
Name: PRIYA SINGH
DOB: 23/03/1992
Aadhaar Number: 1234 5678 9012
Address: 123, MG Road, Bangalore - 560001`,Passport:`REPUBLIC OF INDIA
Passport
Surname: KUMAR
Given Name: AMIT
Passport No: K1234567
Date of Birth: 10/12/1988
Date of Issue: 01/06/2020
Date of Expiry: 31/05/2030`,"Driving License":`DRIVING LICENCE
State: Karnataka
Name: ANJALI REDDY
DL No: KA0120190012345
DOB: 05/07/1995
Issue Date: 15/03/2019
Valid Till: 14/03/2039`,"Voter ID":`ELECTION COMMISSION OF INDIA
ELECTOR PHOTO IDENTITY CARD
Name: VIKRAM PATEL
Age: 32 Years
ID No: ABC1234567
Address: 456, Park Street, Mumbai - 400001`}[e]||"Sample document text"}async analyzeDocumentBatch(e){return await Promise.all(e.map(async n=>{try{const s=await this.classifyDocument(n.ocrText,n.type);return{id:n.id,classification:s,error:null}}catch(s){return{id:n.id,classification:null,error:String(s)}}}))}}const ti=new Ix;class Dx{constructor(){vr(this,"apiKey");vr(this,"indexUrl");this.apiKey="pcsk_4xTTzd_3f7yiWiTzBiVTnSABKcCQkCXEcanS3m47KnqvH9jh9D8zWEKUWMDDKgtrMCfCWL",this.indexUrl="https://nova-grc-vq01rx1.svc.aped-4627-b74a.pinecone.io"}async upsertDocument(e,r,n){try{const s=await fetch(`${this.indexUrl}/vectors/upsert`,{method:"POST",headers:{"Api-Key":this.apiKey,"Content-Type":"application/json"},body:JSON.stringify({vectors:[{id:e,values:r,metadata:n}]})});if(!s.ok)throw new Error(`Pinecone upsert failed: ${s.statusText}`)}catch(s){throw console.error("Error upserting to Pinecone:",s),s}}async searchSimilarDocuments(e,r=5,n){try{const s=await fetch(`${this.indexUrl}/query`,{method:"POST",headers:{"Api-Key":this.apiKey,"Content-Type":"application/json"},body:JSON.stringify({vector:e,topK:r,includeMetadata:!0,filter:n})});if(!s.ok)throw new Error(`Pinecone query failed: ${s.statusText}`);return(await s.json()).matches.map(o=>({id:o.id,score:o.score||0,metadata:o.metadata}))}catch(s){throw console.error("Error searching Pinecone:",s),s}}async findSimilarByDocumentType(e,r,n=5){return this.searchSimilarDocuments(e,n,{document_type:r})}async findDuplicateDocuments(e,r,n=.95){return(await this.searchSimilarDocuments(e,10,{user_id:r})).filter(i=>i.score>=n)}async deleteDocument(e){try{const r=await fetch(`${this.indexUrl}/vectors/delete`,{method:"POST",headers:{"Api-Key":this.apiKey,"Content-Type":"application/json"},body:JSON.stringify({ids:[e]})});if(!r.ok)throw new Error(`Pinecone delete failed: ${r.statusText}`)}catch(r){throw console.error("Error deleting from Pinecone:",r),r}}async getIndexStats(){try{const e=await fetch(`${this.indexUrl}/describe_index_stats`,{method:"POST",headers:{"Api-Key":this.apiKey,"Content-Type":"application/json"}});if(!e.ok)throw new Error(`Pinecone stats failed: ${e.statusText}`);return await e.json()}catch(e){throw console.error("Error getting index stats:",e),e}}}const Un=new Dx;class Lx{async processDocument(e,r){try{const{data:n,error:s}=await B.from("documents").select("*").eq("document_id",e).maybeSingle();if(s||!n)throw new Error("Document not found");await Le.log({user_id:r.user_id,role_name:r.role_name,action:"start_processing",module_name:"document_processing",resource_type:"document",resource_id:e,success:!0,details:{document_type:n.document_type}});const i=n.ocr_text||await ti.generateOCRText(n.document_type),o=await ti.classifyDocument(i,n.document_type),a=await ti.generateEmbedding(i),u=await Un.findSimilarByDocumentType(a,n.document_type,5),c=await Un.findDuplicateDocuments(a,n.uploaded_by,.95);await Un.upsertDocument(e,a,{document_id:e,document_type:n.document_type,user_id:n.uploaded_by,role_name:r.role_name,status:"classified",created_at:n.created_at}),await B.from("documents").update({status:"classified",ocr_text:i,ocr_confidence:o.confidence,extracted_entities:o.extracted_entities,updated_at:new Date().toISOString()}).eq("document_id",e);const h=c.length>0?"NEEDS_REVIEW":o.verdict;return await B.from("decisions").insert({document_id:e,ai_verdict:h,ai_confidence:o.confidence,ai_reasoning:c.length>0?`Possible duplicate detected. ${o.reasoning}`:o.reasoning,ai_timestamp:new Date().toISOString(),status:"ai_proposed"}),await Le.log({user_id:r.user_id,role_name:r.role_name,action:"processing_complete",module_name:"document_processing",resource_type:"document",resource_id:e,success:!0,details:{verdict:h,confidence:o.confidence,duplicates_found:c.length}}),{success:!0,documentId:e,classification:{...o,duplicates:c.length,similar_count:u.length},similarDocuments:u.slice(0,3)}}catch(n){return await Le.log({user_id:r.user_id,role_name:r.role_name,action:"processing_failed",module_name:"document_processing",resource_type:"document",resource_id:e,success:!1,details:{error:String(n)}}),{success:!1,documentId:e,error:String(n)}}}async batchProcessDocuments(e,r){const n=await Promise.all(e.map(i=>this.processDocument(i,r))),s=n.filter(i=>i.success).length;return await Le.log({user_id:r.user_id,role_name:r.role_name,action:"batch_processing",module_name:"document_processing",resource_type:"batch",success:!0,details:{total:e.length,successful:s,failed:e.length-s}}),n}async reviewDocumentDecision(e,r,n,s){try{const{data:i,error:o}=await B.from("decisions").select("*").eq("document_id",e).eq("status","ai_proposed").maybeSingle();if(o||!i)throw new Error("Decision not found");return await B.from("decisions").update({officer_user_id:r.user_id,officer_action:n,officer_comment:s,officer_timestamp:new Date().toISOString(),status:n==="AGREE"?"final":"pending_manager_approval",final_verdict:n==="AGREE"?i.ai_verdict:null,finalized_at:n==="AGREE"?new Date().toISOString():null}).eq("decision_id",i.decision_id),await B.from("documents").update({status:n==="AGREE"?i.ai_verdict.toLowerCase():"needs_review"}).eq("document_id",e),await Le.log({user_id:r.user_id,role_name:r.role_name,action:"officer_review",module_name:"document_review",resource_type:"decision",resource_id:i.decision_id,success:!0,details:{officer_action:n,ai_verdict:i.ai_verdict}}),{success:!0}}catch(i){return{success:!1,error:String(i)}}}async approveDocumentAsManager(e,r,n,s){try{const{data:i,error:o}=await B.from("decisions").select("*").eq("document_id",e).eq("status","pending_manager_approval").maybeSingle();if(o||!i)throw new Error("Decision not found or not pending approval");const a=n==="APPROVE"?"APPROVED":n==="REJECT"?"REJECTED":null;return await B.from("decisions").update({manager_user_id:r.user_id,manager_action:n,manager_justification:s,manager_timestamp:new Date().toISOString(),status:n==="ESCALATE"?"cco_escalated":"final",final_verdict:a,finalized_at:n!=="ESCALATE"?new Date().toISOString():null}).eq("decision_id",i.decision_id),a&&await B.from("documents").update({status:a.toLowerCase()}).eq("document_id",e),await Le.log({user_id:r.user_id,role_name:r.role_name,action:"manager_decision",module_name:"document_approval",resource_type:"decision",resource_id:i.decision_id,success:!0,details:{manager_action:n,final_verdict:a}}),{success:!0}}catch(i){return{success:!1,error:String(i)}}}async uploadDocument(e){try{const{file_name:r,file_size:n,mime_type:s,base64_content:i,document_type:o,priority:a,user:u}=e,c=`data:${s};base64,${i}`,{data:h,error:f}=await B.from("documents").insert({document_type:o,priority:a,status:"uploaded",uploaded_by:u.user_id,assigned_to:u.user_id,file_name:r,file_path:c,file_size:n,mime_type:s,ocr_confidence:0}).select().single();if(f)throw f;return await Le.log({user_id:u.user_id,role_name:u.role_name,action:"document_uploaded",module_name:"document_upload",resource_type:"document",resource_id:h.document_id,success:!0,details:{document_type:o,file_name:r,file_size:n}}),{success:!0,documentId:h.document_id}}catch(r){return{success:!1,error:String(r)}}}}const eo=new Lx;function $x(){const{user:t}=Ae(),[e,r]=S.useState([]),[n,s]=S.useState(null),[i,o]=S.useState(0),[a,u]=S.useState(""),[c,h]=S.useState(null),[f,p]=S.useState(!0);S.useEffect(()=>{v()},[t]);const v=async()=>{if(t)try{p(!0);const{data:y,error:w}=await B.from("documents").select("document_id, document_type, file_name, file_path, mime_type, status, priority, ocr_confidence, created_at").order("created_at",{ascending:!1}).limit(10);!w&&y&&r(y)}catch(y){console.error("Error loading documents:",y)}finally{p(!1)}},x=async y=>{if(t)try{s(y),o(0),h(null),u("Extracting text with OCR..."),o(20),await new Promise(g=>setTimeout(g,500)),u("Classifying document with AI..."),o(40),await new Promise(g=>setTimeout(g,500)),u("Generating embeddings..."),o(60),await new Promise(g=>setTimeout(g,500)),u("Searching for similar documents..."),o(80);const w=await eo.processDocument(y,t);u("Finalizing..."),o(100),await new Promise(g=>setTimeout(g,300)),h(w),await v()}catch(w){console.error("Error processing document:",w),h({success:!1,error:String(w)})}finally{s(null),o(0),u("")}};return f?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading documents..."})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(gr,{}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"AI Document Processing"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Process KYC documents with OpenAI + Pinecone vector search"})]}),n&&i>0&&l.jsxs("div",{className:"mb-6 p-6 bg-white border border-blue-200 rounded-lg shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Processing Document..."}),l.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[i,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-3 overflow-hidden",children:l.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-500 ease-out",style:{width:`${i}%`}})}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a]})]}),c&&l.jsxs("div",{className:`mb-6 p-4 rounded-lg ${c.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[l.jsx("h3",{className:`font-semibold ${c.success?"text-green-800":"text-red-800"}`,children:c.success?"Processing Complete":"Processing Failed"}),c.success&&c.classification&&l.jsxs("div",{className:"mt-3 space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-700",children:"Document Type:"}),l.jsx("span",{className:"font-medium",children:c.classification.document_type})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-700",children:"Confidence:"}),l.jsxs("span",{className:"font-medium",children:[(c.classification.confidence*100).toFixed(1),"%"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-700",children:"AI Verdict:"}),l.jsx("span",{className:`font-medium ${c.classification.verdict==="APPROVED"?"text-green-700":c.classification.verdict==="REJECTED"?"text-red-700":"text-yellow-700"}`,children:c.classification.verdict})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-700",children:"Similar Docs:"}),l.jsx("span",{className:"font-medium",children:c.classification.similar_count})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-700",children:"Duplicates:"}),l.jsx("span",{className:"font-medium",children:c.classification.duplicates})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-green-200",children:[l.jsx("p",{className:"text-gray-700 font-medium mb-1",children:"AI Reasoning:"}),l.jsx("p",{className:"text-gray-600 text-sm",children:c.classification.reasoning})]}),c.classification.extracted_entities&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-green-200",children:[l.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Extracted Entities:"}),l.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(c.classification.extracted_entities).filter(([y,w])=>w).map(([y,w])=>l.jsxs("div",{className:"bg-white p-2 rounded",children:[l.jsxs("span",{className:"text-gray-500 capitalize",children:[y.replace("_"," "),":"]}),l.jsx("span",{className:"ml-2 font-medium",children:String(w)})]},y))})]})]}),!c.success&&l.jsx("p",{className:"mt-2 text-red-700 text-sm",children:c.error})]}),l.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Preview"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Confidence"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(y=>{var w;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.file_path&&((w=y.mime_type)!=null&&w.startsWith("image/"))?l.jsx("img",{src:y.file_path,alt:y.file_name||"Document",className:"h-16 w-16 object-cover rounded border border-gray-300"}):l.jsx("div",{className:"h-16 w-16 bg-gray-100 rounded border border-gray-300 flex items-center justify-center",children:l.jsx("svg",{className:"h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.document_type}),l.jsx("div",{className:"text-xs text-gray-500",children:y.file_name})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y.status==="approved"?"bg-green-100 text-green-800":y.status==="rejected"?"bg-red-100 text-red-800":y.status==="classified"?"bg-blue-100 text-blue-800":y.status==="processing"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:y.status})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y.priority==="urgent"?"bg-red-100 text-red-800":y.priority==="high"?"bg-orange-100 text-orange-800":y.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:y.priority})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y.ocr_confidence?`${(y.ocr_confidence*100).toFixed(1)}%`:"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(y.created_at).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsx("button",{onClick:()=>x(y.document_id),disabled:n===y.document_id||y.status==="classified",className:`inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md ${n===y.document_id?"bg-gray-300 text-gray-500 cursor-not-allowed":y.status==="classified"?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:n===y.document_id?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):y.status==="classified"?"Processed":"Process with AI"})})]},y.document_id)})})]})})}),e.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No documents"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by uploading documents"})]})]})]})}const ed=["PAN","Aadhaar","Passport","Driving License","Voter ID"],Ux=["low","medium","high","urgent"];function Bx(){const{user:t}=Ae(),e=Ji(),[r,n]=S.useState(!1),[s,i]=S.useState(null),[o,a]=S.useState(ed[0]),[u,c]=S.useState("medium"),[h,f]=S.useState(null),[p,v]=S.useState(null),x=w=>{var m;const g=(m=w.target.files)==null?void 0:m[0];if(!g)return;if(!g.type.startsWith("image/")){v("Please select an image file (JPG, PNG, etc.)");return}if(g.size>5*1024*1024){v("File size must be less than 5MB");return}i(g),v(null);const d=new FileReader;d.onload=_=>{var b;f((b=_.target)==null?void 0:b.result)},d.readAsDataURL(g)},y=async()=>{if(!(!s||!t))try{n(!0),v(null);const w=new FileReader;w.onload=async g=>{var d;try{const m=(d=g.target)==null?void 0:d.result;await eo.uploadDocument({file_name:s.name,file_size:s.size,mime_type:s.type,base64_content:m.split(",")[1],document_type:o,priority:u,user:t}),e("/processing")}catch(m){v(String(m))}finally{n(!1)}},w.readAsDataURL(s)}catch(w){v(String(w)),n(!1)}};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(gr,{}),l.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Upload Document"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Upload KYC documents for AI-powered processing and verification"})]}),p&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:l.jsx("p",{className:"text-red-800 text-sm",children:p})}),l.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Type"}),l.jsx("select",{value:o,onChange:w=>a(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:ed.map(w=>l.jsx("option",{value:w,children:w},w))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority Level"}),l.jsx("select",{value:u,onChange:w=>c(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:Ux.map(w=>l.jsx("option",{value:w,children:w.charAt(0).toUpperCase()+w.slice(1)},w))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Image"}),l.jsx("div",{className:"mt-2",children:l.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[h?l.jsxs("div",{className:"relative w-full h-full",children:[l.jsx("img",{src:h,alt:"Document preview",className:"w-full h-full object-contain p-4"}),l.jsx("button",{onClick:w=>{w.preventDefault(),i(null),f(null)},className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[l.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),l.jsxs("p",{className:"mb-2 text-sm text-gray-600",children:[l.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 5MB"})]}),l.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:x,disabled:r})]})}),s&&l.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",s.name," (",(s.size/1024).toFixed(1)," KB)"]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[l.jsx("button",{onClick:()=>e("/dashboard"),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",disabled:r,children:"Cancel"}),l.jsx("button",{onClick:y,disabled:!s||r,className:`px-4 py-2 rounded-md text-sm font-medium text-white ${!s||r?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:r?l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Uploading..."]}):"Upload & Process"})]})]})}),l.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"What happens next?"}),l.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[l.jsx("li",{children:" Document uploaded to Supabase Storage"}),l.jsx("li",{children:" OCR text extraction (simulated)"}),l.jsx("li",{children:" AI classification via OpenAI GPT-4"}),l.jsx("li",{children:" Vector embedding stored in Pinecone"}),l.jsx("li",{children:" Duplicate detection and similarity matching"}),l.jsx("li",{children:" Compliance verdict generated"})]})]})]})]})}function zx(){const{user:t}=Ae(),[e,r]=S.useState([]),[n,s]=S.useState(!0),[i,o]=S.useState(null),[a,u]=S.useState("AGREE"),[c,h]=S.useState(""),[f,p]=S.useState(!1),v=t?Ex(t.role_name):null;S.useEffect(()=>{x()},[t]);const x=async()=>{if(t)try{s(!0);const{data:w,error:g}=await B.from("documents").select(`
          document_id,
          document_type,
          status,
          priority,
          created_at,
          extracted_entities,
          decisions!inner(
            decision_id,
            ai_verdict,
            ai_confidence,
            ai_reasoning,
            officer_action,
            status
          )
        `).eq("decisions.status","ai_proposed").order("created_at",{ascending:!1});if(!g&&w){const d=w.map(m=>({...m,decision:Array.isArray(m.decisions)?m.decisions[0]:m.decisions}));r(d)}}catch(w){console.error("Error loading documents:",w)}finally{s(!1)}},y=async()=>{if(!(!i||!t))try{p(!0),(await eo.reviewDocumentDecision(i.document_id,t,a,c)).success&&(o(null),h(""),await x())}catch(w){console.error("Error reviewing document:",w)}finally{p(!1)}};return n?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading review queue..."})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(gr,{}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Document Review Queue"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Review AI-classified documents and approve or reject decisions"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:e.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No documents pending review"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"All documents have been reviewed"})]}):l.jsx("div",{className:"divide-y divide-gray-200",children:e.map(w=>l.jsx("div",{onClick:()=>o(w),className:`p-6 cursor-pointer transition-colors ${(i==null?void 0:i.document_id)===w.document_id?"bg-blue-50 border-l-4 border-blue-600":"hover:bg-gray-50"}`,children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:w.document_type}),l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w.priority==="urgent"?"bg-red-100 text-red-800":w.priority==="high"?"bg-orange-100 text-orange-800":w.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:w.priority})]}),l.jsxs("div",{className:"mt-2 space-y-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"AI Verdict:"}),l.jsx("span",{className:`font-medium ${w.decision.ai_verdict==="APPROVED"?"text-green-700":w.decision.ai_verdict==="REJECTED"?"text-red-700":"text-yellow-700"}`,children:w.decision.ai_verdict}),l.jsxs("span",{className:"text-gray-500",children:["(",(w.decision.ai_confidence*100).toFixed(1),"% confidence)"]})]}),l.jsx("p",{className:"text-sm text-gray-600",children:new Date(w.created_at).toLocaleString()})]})]}),l.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},w.document_id))})})}),l.jsx("div",{className:"lg:col-span-1",children:i?l.jsxs("div",{className:"bg-white shadow rounded-lg p-6 sticky top-8",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Review Details"}),l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Document Type"}),l.jsx("p",{className:"text-sm text-gray-900",children:i.document_type})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"AI Verdict"}),l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i.decision.ai_verdict==="APPROVED"?"bg-green-100 text-green-800":i.decision.ai_verdict==="REJECTED"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:i.decision.ai_verdict})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"AI Confidence"}),l.jsxs("p",{className:"text-sm text-gray-900",children:[(i.decision.ai_confidence*100).toFixed(1),"%"]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"AI Reasoning"}),l.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded",children:i.decision.ai_reasoning})]}),i.extracted_entities&&Object.keys(i.extracted_entities).length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Extracted Entities"}),l.jsx("div",{className:"space-y-2",children:Object.entries(i.extracted_entities).filter(([w,g])=>g).map(([w,g])=>l.jsxs("div",{className:"text-sm bg-gray-50 p-2 rounded",children:[l.jsxs("span",{className:"text-gray-600 capitalize",children:[w.replace("_"," "),":"]}),l.jsx("span",{className:"ml-2 font-medium text-gray-900",children:String(g)})]},w))})]})]}),v!=null&&v.canProvideReviewFeedback?l.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Decision"}),l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",checked:a==="AGREE",onChange:()=>u("AGREE"),className:"mr-2"}),l.jsx("span",{className:"text-sm text-gray-900",children:"Agree with AI"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",checked:a==="DISAGREE",onChange:()=>u("DISAGREE"),className:"mr-2"}),l.jsx("span",{className:"text-sm text-gray-900",children:"Disagree with AI"})]})]}),l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comment"}),l.jsx("textarea",{value:c,onChange:w=>h(w.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add your review comments..."}),l.jsx("button",{onClick:y,disabled:f||!c.trim(),className:`w-full mt-4 px-4 py-2 rounded-md text-sm font-medium text-white ${f||!c.trim()?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:f?"Submitting...":"Submit Review"})]}):l.jsx("div",{className:"border-t border-gray-200 pt-4",children:l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"View-only access:"})," Your role allows you to view document reviews but not provide feedback."]})})})]}):l.jsxs("div",{className:"bg-white shadow rounded-lg p-6 text-center",children:[l.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Select a document to review"})]})})]})]})]})}const Mx=["All","PAN","Aadhaar","Passport","Driving License","Voter ID"],Fx=["All","pending","processing","classified","approved","rejected","needs_review"];function Vx(){const{user:t}=Ae(),[e,r]=S.useState(""),[n,s]=S.useState("semantic"),[i,o]=S.useState("All"),[a,u]=S.useState("All"),[c,h]=S.useState(!1),[f,p]=S.useState([]),[v,x]=S.useState(null),y=async()=>{if(!(!e.trim()||!t))try{h(!0),p([]);const d=await ti.generateEmbedding(e),m=i!=="All"?await Un.findSimilarByDocumentType(d,i,20):await Un.searchSimilarDocuments(d,20),_=m.map(C=>C.id);if(_.length===0){p([]);return}let b=B.from("documents").select("*").in("document_id",_);a!=="All"&&(b=b.eq("status",a));const{data:j,error:E}=await b;if(!E&&j){const C=j.map(D=>{const N=m.find(U=>U.id===D.document_id);return{...D,score:(N==null?void 0:N.score)||0}});C.sort((D,N)=>N.score-D.score),p(C)}}catch(d){console.error("Error searching:",d)}finally{h(!1)}},w=async()=>{if(!(!e.trim()||!t))try{h(!0),p([]);let d=B.from("documents").select("*").or(`ocr_text.ilike.%${e}%,extracted_entities->>name.ilike.%${e}%,extracted_entities->>document_number.ilike.%${e}%`).order("created_at",{ascending:!1}).limit(20);i!=="All"&&(d=d.eq("document_type",i)),a!=="All"&&(d=d.eq("status",a));const{data:m,error:_}=await d;!_&&m&&p(m.map(b=>({...b,score:1})))}catch(d){console.error("Error searching:",d)}finally{h(!1)}},g=()=>{n==="semantic"?y():w()};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(gr,{}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Document Search"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Search documents using AI-powered semantic search or traditional keyword matching"})]}),l.jsx("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",value:e,onChange:d=>r(d.target.value),onKeyPress:d=>d.key==="Enter"&&g(),placeholder:"Search for documents...",className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),l.jsx("button",{onClick:g,disabled:c||!e.trim(),className:`px-6 py-3 rounded-md text-sm font-medium text-white ${c||!e.trim()?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:c?l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Searching..."]}):"Search"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Type"}),l.jsxs("select",{value:n,onChange:d=>s(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"semantic",children:"Semantic (AI-powered)"}),l.jsx("option",{value:"keyword",children:"Keyword"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Type"}),l.jsx("select",{value:i,onChange:d=>o(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:Mx.map(d=>l.jsx("option",{value:d,children:d},d))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),l.jsx("select",{value:a,onChange:d=>u(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:Fx.map(d=>l.jsx("option",{value:d,children:d==="All"?"All Statuses":d.charAt(0).toUpperCase()+d.slice(1)},d))})]})]}),n==="semantic"&&l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("span",{className:"font-medium",children:"Semantic Search:"})," Uses AI to understand the meaning of your query and find relevant documents, even if they don't contain exact keywords."]})})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2",children:[l.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[f.length===0&&!c&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No search results"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search query or filters"})]}),f.length>0&&l.jsx("div",{className:"divide-y divide-gray-200",children:f.map(d=>{var m;return l.jsx("div",{onClick:()=>x(d),className:`p-6 cursor-pointer transition-colors ${(v==null?void 0:v.document_id)===d.document_id?"bg-blue-50 border-l-4 border-blue-600":"hover:bg-gray-50"}`,children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:d.document_type}),l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d.status==="approved"?"bg-green-100 text-green-800":d.status==="rejected"?"bg-red-100 text-red-800":d.status==="classified"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:d.status}),n==="semantic"&&l.jsxs("span",{className:"text-xs text-gray-500",children:["Relevance: ",(d.score*100).toFixed(0),"%"]})]}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:new Date(d.created_at).toLocaleString()}),((m=d.extracted_entities)==null?void 0:m.name)&&l.jsxs("p",{className:"mt-1 text-sm text-gray-700",children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",d.extracted_entities.name]})]}),l.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},d.document_id)})})]}),f.length>0&&l.jsxs("div",{className:"mt-4 text-sm text-gray-600 text-center",children:["Found ",f.length," document",f.length!==1?"s":""]})]}),l.jsx("div",{className:"lg:col-span-1",children:v?l.jsxs("div",{className:"bg-white shadow rounded-lg p-6 sticky top-8",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Document Details"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Document Type"}),l.jsx("p",{className:"text-sm text-gray-900",children:v.document_type})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Status"}),l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v.status==="approved"?"bg-green-100 text-green-800":v.status==="rejected"?"bg-red-100 text-red-800":v.status==="classified"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:v.status})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Priority"}),l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v.priority==="urgent"?"bg-red-100 text-red-800":v.priority==="high"?"bg-orange-100 text-orange-800":v.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:v.priority})]}),n==="semantic"&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Relevance Score"}),l.jsxs("div",{className:"mt-1",children:[l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${v.score*100}%`}})}),l.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[(v.score*100).toFixed(1),"% match"]})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Created"}),l.jsx("p",{className:"text-sm text-gray-900",children:new Date(v.created_at).toLocaleString()})]}),v.extracted_entities&&Object.keys(v.extracted_entities).length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Extracted Entities"}),l.jsx("div",{className:"space-y-2",children:Object.entries(v.extracted_entities).filter(([d,m])=>m).map(([d,m])=>l.jsxs("div",{className:"text-sm bg-gray-50 p-2 rounded",children:[l.jsxs("span",{className:"text-gray-600 capitalize",children:[d.replace("_"," "),":"]}),l.jsx("span",{className:"ml-2 font-medium text-gray-900",children:String(m)})]},d))})]}),v.ocr_text&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"OCR Text"}),l.jsx("div",{className:"text-xs text-gray-600 bg-gray-50 p-3 rounded max-h-48 overflow-y-auto",children:v.ocr_text})]})]})]}):l.jsxs("div",{className:"bg-white shadow rounded-lg p-6 text-center",children:[l.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Select a document to view details"})]})})]})]})]})}function Wx(){var u,c;const{user:t}=Ae(),[e,r]=S.useState(null),[n,s]=S.useState(!0),[i,o]=S.useState("30d");S.useEffect(()=>{a()},[t,i]);const a=async()=>{if(t)try{s(!0);const h=i==="7d"?7:i==="30d"?30:90,f=new Date;f.setDate(f.getDate()-h);const[{data:p},{data:v},{data:x},{data:y},{data:w}]=await Promise.all([B.from("documents").select("document_type").gte("created_at",f.toISOString()),B.from("documents").select("status").gte("created_at",f.toISOString()),B.from("decisions").select("officer_action, status").gte("ai_timestamp",f.toISOString()),B.from("documents").select("created_at").gte("created_at",f.toISOString()).order("created_at",{ascending:!0}),B.from("documents").select("uploaded_by, users!inner(email)").gte("created_at",f.toISOString())]),g=Object.entries((p||[]).reduce((N,U)=>(N[U.document_type]=(N[U.document_type]||0)+1,N),{})).map(([N,U])=>({document_type:N,count:U})),d=Object.entries((v||[]).reduce((N,U)=>(N[U.status]=(N[U.status]||0)+1,N),{})).map(([N,U])=>({status:N,count:U})),m=(x==null?void 0:x.length)||0,_=(x==null?void 0:x.filter(N=>N.officer_action==="AGREE").length)||0,b=(x==null?void 0:x.filter(N=>N.officer_action==="DISAGREE").length)||0,j=(y||[]).reduce((N,U)=>{const Ve=new Date(U.created_at).toLocaleDateString();return N[Ve]=(N[Ve]||0)+1,N},{}),E=Object.entries(j).map(([N,U])=>({date:N,count:U})),C=(w||[]).reduce((N,U)=>{var vt;const Ve=((vt=U.users)==null?void 0:vt.email)||"Unknown";return N[Ve]=(N[Ve]||0)+1,N},{}),D=Object.entries(C).map(([N,U])=>({email:N,document_count:U})).sort((N,U)=>U.document_count-N.document_count).slice(0,5);r({documentsByType:g,documentsByStatus:d,aiAccuracy:{total:m,agreed:_,disagreed:b,accuracy:m>0?_/m*100:0},processingTrends:E,topUsers:D})}catch(h){console.error("Error loading analytics:",h)}finally{s(!1)}};return n?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading analytics..."})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(gr,{}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Comprehensive insights into document processing and AI performance"})]}),l.jsx("div",{className:"flex space-x-2",children:["7d","30d","90d"].map(h=>l.jsx("button",{onClick:()=>o(h),className:`px-4 py-2 rounded-md text-sm font-medium ${i===h?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:h==="7d"?"Last 7 days":h==="30d"?"Last 30 days":"Last 90 days"},h))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Total Documents"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:(e==null?void 0:e.documentsByStatus.reduce((h,f)=>h+f.count,0))||0})]}),l.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:l.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"AI Accuracy"}),l.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:[e==null?void 0:e.aiAccuracy.accuracy.toFixed(1),"%"]})]}),l.jsx("div",{className:"bg-green-100 rounded-full p-3",children:l.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Approved"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:((u=e==null?void 0:e.documentsByStatus.find(h=>h.status==="approved"))==null?void 0:u.count)||0})]}),l.jsx("div",{className:"bg-green-100 rounded-full p-3",children:l.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Rejected"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:((c=e==null?void 0:e.documentsByStatus.find(h=>h.status==="rejected"))==null?void 0:c.count)||0})]}),l.jsx("div",{className:"bg-red-100 rounded-full p-3",children:l.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documents by Type"}),l.jsx("div",{className:"space-y-4",children:e==null?void 0:e.documentsByType.map(h=>{const f=e.documentsByType.reduce((v,x)=>v+x.count,0),p=(h.count/f*100).toFixed(1);return l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between mb-1",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:h.document_type}),l.jsxs("span",{className:"text-sm text-gray-600",children:[h.count," (",p,"%)"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${p}%`}})})]},h.document_type)})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documents by Status"}),l.jsx("div",{className:"space-y-4",children:e==null?void 0:e.documentsByStatus.map(h=>{const f=e.documentsByStatus.reduce((x,y)=>x+y.count,0),p=(h.count/f*100).toFixed(1),v={approved:"bg-green-600",rejected:"bg-red-600",classified:"bg-blue-600",pending:"bg-yellow-600",processing:"bg-orange-600"};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between mb-1",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:h.status}),l.jsxs("span",{className:"text-sm text-gray-600",children:[h.count," (",p,"%)"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`${v[h.status]||"bg-gray-600"} h-2 rounded-full`,style:{width:`${p}%`}})})]},h.status)})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"AI Decision Performance"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total AI Decisions"}),l.jsx("span",{className:"text-lg font-bold text-gray-900",children:(e==null?void 0:e.aiAccuracy.total)||0})]}),l.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Officer Agreed"}),l.jsx("span",{className:"text-lg font-bold text-green-700",children:(e==null?void 0:e.aiAccuracy.agreed)||0})]}),l.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Officer Disagreed"}),l.jsx("span",{className:"text-lg font-bold text-red-700",children:(e==null?void 0:e.aiAccuracy.disagreed)||0})]}),l.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Accuracy Rate"}),l.jsxs("div",{className:"flex items-end space-x-2",children:[l.jsxs("span",{className:"text-4xl font-bold text-blue-600",children:[e==null?void 0:e.aiAccuracy.accuracy.toFixed(1),"%"]}),l.jsx("span",{className:"text-sm text-gray-600 mb-2",children:"AI agreement rate"})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Contributors"}),l.jsxs("div",{className:"space-y-3",children:[e==null?void 0:e.topUsers.map((h,f)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold ${f===0?"bg-yellow-500":f===1?"bg-gray-400":f===2?"bg-orange-400":"bg-blue-500"}`,children:f+1}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:h.email})]}),l.jsx("span",{className:"text-lg font-bold text-gray-900",children:h.document_count})]},h.email)),(!(e!=null&&e.topUsers)||e.topUsers.length===0)&&l.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No data available"})]})]})]})]})]})}function Hx(){const{user:t}=Ae(),[e,r]=S.useState([]),[n,s]=S.useState(!0),[i,o]=S.useState(!1),[a,u]=S.useState([]),[c,h]=S.useState("All"),[f,p]=S.useState("pending");S.useEffect(()=>{v()},[t,c,f]);const v=async()=>{if(t)try{s(!0);let d=B.from("documents").select("document_id, document_type, status, priority, created_at").order("created_at",{ascending:!1}).limit(50);c!=="All"&&(d=d.eq("document_type",c)),f!=="All"&&(d=d.eq("status",f));const{data:m,error:_}=await d;!_&&m&&r(m.map(b=>({...b,selected:!1})))}catch(d){console.error("Error loading documents:",d)}finally{s(!1)}},x=d=>{r(m=>m.map(_=>_.document_id===d?{..._,selected:!_.selected}:_))},y=()=>{const d=e.every(m=>m.selected);r(m=>m.map(_=>({..._,selected:!d})))},w=async()=>{if(!t)return;const d=e.filter(m=>m.selected);if(d.length!==0)try{o(!0),u([]);const m=d.map(b=>b.document_id),_=await eo.batchProcessDocuments(m,t);u(_.map(b=>({document_id:b.documentId,success:b.success,error:b.error}))),await v()}catch(m){console.error("Error processing documents:",m)}finally{o(!1)}},g=e.filter(d=>d.selected).length;return n?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading documents..."})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(gr,{}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bulk Document Processing"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Process multiple documents at once with AI-powered classification"})]}),l.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Type"}),l.jsxs("select",{value:c,onChange:d=>h(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"All",children:"All Types"}),l.jsx("option",{value:"PAN",children:"PAN"}),l.jsx("option",{value:"Aadhaar",children:"Aadhaar"}),l.jsx("option",{value:"Passport",children:"Passport"}),l.jsx("option",{value:"Driving License",children:"Driving License"}),l.jsx("option",{value:"Voter ID",children:"Voter ID"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),l.jsxs("select",{value:f,onChange:d=>p(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"All",children:"All Statuses"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"processing",children:"Processing"}),l.jsx("option",{value:"classified",children:"Classified"}),l.jsx("option",{value:"approved",children:"Approved"}),l.jsx("option",{value:"rejected",children:"Rejected"})]})]}),l.jsx("div",{className:"flex items-end",children:l.jsx("button",{onClick:v,className:"w-full px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Refresh"})})]}),l.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[l.jsxs("div",{className:"text-sm text-gray-600",children:[g," of ",e.length," documents selected"]}),l.jsx("button",{onClick:w,disabled:g===0||i,className:`px-6 py-2 rounded-md text-sm font-medium text-white ${g===0||i?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:i?l.jsxs("span",{className:"flex items-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing ",g," documents..."]}):`Process ${g} document${g!==1?"s":""}`})]})]}),a.length>0&&l.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Processing Results"}),l.jsxs("div",{className:"space-y-2",children:[a.map(d=>l.jsxs("div",{className:`p-3 rounded-lg ${d.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-sm font-medium",children:["Document ID: ",d.document_id.substring(0,8),"..."]}),d.success?l.jsx("span",{className:"text-green-700 text-sm",children:" Success"}):l.jsx("span",{className:"text-red-700 text-sm",children:" Failed"})]}),d.error&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.error})]},d.document_id)),l.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Processed: ",a.filter(d=>d.success).length," successful, ",a.filter(d=>!d.success).length," failed"]})})]})]}),l.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left",children:l.jsx("input",{type:"checkbox",checked:e.length>0&&e.every(d=>d.selected),onChange:y,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(d=>l.jsxs("tr",{className:`hover:bg-gray-50 ${d.selected?"bg-blue-50":""}`,children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("input",{type:"checkbox",checked:d.selected,onChange:()=>x(d.document_id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:d.document_type}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d.status==="approved"?"bg-green-100 text-green-800":d.status==="rejected"?"bg-red-100 text-red-800":d.status==="classified"?"bg-blue-100 text-blue-800":d.status==="processing"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:d.status})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d.priority==="urgent"?"bg-red-100 text-red-800":d.priority==="high"?"bg-orange-100 text-orange-800":d.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:d.priority})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(d.created_at).toLocaleString()})]},d.document_id))})]})})}),e.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No documents found"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your filters"})]})]})]})}function Qt({children:t}){const{user:e,isLoading:r}=Ae();return r?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e?l.jsx(l.Fragment,{children:t}):l.jsx(Qi,{to:"/login",replace:!0})}function jr({children:t,allowedRoles:e,redirectTo:r="/dashboard"}){const{user:n}=Ae();return n?e.includes(n.role_name)?l.jsx(l.Fragment,{children:t}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),l.jsxs("p",{className:"text-gray-700 mb-4",children:["You do not have permission to access this page. Your role (",n.role_name,") does not have the required permissions."]}),l.jsx("a",{href:r,className:"block w-full text-center bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Return to Dashboard"})]})}):l.jsx(Qi,{to:"/login",replace:!0})}class qx extends S.Component{constructor(){super(...arguments);vr(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Uncaught error:",r,n)}render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),l.jsx("p",{className:"text-gray-700 mb-4",children:"An error occurred in the application. Please refresh the page or contact support if the problem persists."}),this.state.error&&l.jsx("pre",{className:"bg-gray-100 p-4 rounded text-sm overflow-auto",children:this.state.error.message}),l.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Refresh Page"})]})}):this.props.children}}function Kx(){const{checkSession:t}=Ae();return S.useEffect(()=>{t()},[t]),l.jsx(qx,{children:l.jsx(cv,{children:l.jsxs(nv,{children:[l.jsx(tt,{path:"/login",element:l.jsx(jx,{})}),l.jsx(tt,{path:"/dashboard",element:l.jsx(Qt,{children:l.jsx(Ax,{})})}),l.jsx(tt,{path:"/processing",element:l.jsx(Qt,{children:l.jsx(jr,{allowedRoles:["compliance_officer","compliance_manager","cco","ciso","external_auditor"],children:l.jsx($x,{})})})}),l.jsx(tt,{path:"/upload",element:l.jsx(Qt,{children:l.jsx(jr,{allowedRoles:["compliance_officer","compliance_manager"],children:l.jsx(Bx,{})})})}),l.jsx(tt,{path:"/review",element:l.jsx(Qt,{children:l.jsx(jr,{allowedRoles:["compliance_officer","compliance_manager","cco"],children:l.jsx(zx,{})})})}),l.jsx(tt,{path:"/search",element:l.jsx(Qt,{children:l.jsx(jr,{allowedRoles:["compliance_officer","compliance_manager","cco","ciso","internal_auditor","dpo","external_auditor"],children:l.jsx(Vx,{})})})}),l.jsx(tt,{path:"/analytics",element:l.jsx(Qt,{children:l.jsx(jr,{allowedRoles:["compliance_officer","compliance_manager","cco","ciso","internal_auditor","dpo","external_auditor"],children:l.jsx(Wx,{})})})}),l.jsx(tt,{path:"/bulk",element:l.jsx(Qt,{children:l.jsx(jr,{allowedRoles:["compliance_manager","cco"],children:l.jsx(Hx,{})})})}),l.jsx(tt,{path:"/",element:l.jsx(Qi,{to:"/login",replace:!0})})]})})})}Fo.createRoot(document.getElementById("root")).render(l.jsx(tl.StrictMode,{children:l.jsx(Kx,{})}));
//# sourceMappingURL=index-bqS4Jq01.js.map
